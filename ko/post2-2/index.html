<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="https://i.imgur.com/2nHGFTv.png"/><link rel="icon" type="image/png" sizes="32x32" href="https://i.imgur.com/2nHGFTv.png"/><link rel="icon" type="image/png" sizes="16x16" href="https://i.imgur.com/2nHGFTv.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><title>JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸</title><meta name="title" content="JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸"/><meta name="description" content="JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸"/><meta name="keywords" content="jpa, entitymanager, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸, íŠ¸ëœì­ì…˜"/><meta name="robots" content="index, follow"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="language" content="Korean"/><meta name="author" content="Sanha Ko"/><meta property="og:title" content="JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸"/><meta property="og:url" content="https://headf1rst.github.io/log/ko/post2-2"/><meta property="og:type" content="blog"/><meta property="og:image" content="https://images.velog.io/images/dnjscksdn98/post/14072bd8-850b-4d2b-8476-cb5385bbcd36/jpa.png"/><meta property="og:description" content="JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸"/><link rel="alternate" hrefLang="ko" href="https://headf1rst.github.io/log/ko/post2-2"/><link rel="alternate" hrefLang="x-default" href="https://headf1rst.github.io/log/ko/post2-2"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸","datePublished":"2024-01-07 10:00","dateModified":"2024-01-07 10:00","author":{"@type":"Person","name":"Sanha Ko"},"description":"JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸","image":"https://images.velog.io/images/dnjscksdn98/post/14072bd8-850b-4d2b-8476-cb5385bbcd36/jpa.png","url":"https://headf1rst.github.io/TIL/ko/post2-2","keywords":"JPA","inLanguage":"ko-KR","publisher":{"@type":"Organization","name":"headF1rst","logo":{"@type":"ImageObject","url":"https://headf1rst.github.io/TIL/favicon.ico"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://headf1rst.github.io/TIL/ko/post2-2"}}</script><meta name="next-head-count" content="25"/><link rel="preload" href="/log/_next/static/css/39f7a3d9bab3920f.css" as="style"/><link rel="stylesheet" href="/log/_next/static/css/39f7a3d9bab3920f.css" data-n-g=""/><link rel="preload" href="/log/_next/static/css/38994dd0aed51f22.css" as="style"/><link rel="stylesheet" href="/log/_next/static/css/38994dd0aed51f22.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/log/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/log/_next/static/chunks/webpack-1b0decc0375da57b.js" defer=""></script><script src="/log/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/log/_next/static/chunks/main-6e6d6dc6617c8481.js" defer=""></script><script src="/log/_next/static/chunks/pages/_app-fb4c0e963f692f2c.js" defer=""></script><script src="/log/_next/static/chunks/pages/%5Blang%5D/%5Bid%5D-0687c01bb97784d8.js" defer=""></script><script src="/log/_next/static/l20VKt653kLNoR7r7DQQf/_buildManifest.js" defer=""></script><script src="/log/_next/static/l20VKt653kLNoR7r7DQQf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav class="flex bg-white sticky top-0 left-0 z-50 justify-between items-center border-b-2 border-gray-100 py-3 md:justify-start md:space-x-10 px-10 sm:px-5 dark:bg-[#0d1117] dark:text-[#c9d1d9] dark:border-gray-600"><div class="flex justify-start"><a href="/log/ko/"><div class="flex items-center gap-2 cursor-pointer"><h1 class="text-lg ">JustAnotherBlog</h1></div></a></div><div class="flex justify-between gap-10 sm:hidden items-center"><a href="/log/ko/"><button class="font-light hover:text-indigo-300 text-base">Home</button></a><a href="/log/ko/tech/"><button class="font-light hover:text-indigo-300 text-base">Tech</button></a><a href="/log/ko/domain/"><button class="font-light hover:text-indigo-300 text-base">Domain</button></a><a href="https://plain-composer-c65.notion.site/29c7640fdf054059b6ea28ed61189bfb" target="_blank" rel="noreferrer" class="hover:text-indigo-300 text-base font-light flex gap-1">About<span class="flex justify-center" style="align-items:center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z"></path><path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"></path></svg></span></a><div class="relative"><button class="flex items-center gap-1 hover:text-indigo-300 text-base font-light">ğŸ‡°ğŸ‡·<!-- --> <!-- -->í•œêµ­ì–´</button></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="lg:hidden" height="25" width="25" xmlns="http://www.w3.org/2000/svg"><path d="M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"></path></svg></nav><main class="dark:bg-[#0d1117] h-screen pb-10"><div class="flex flex-col w-3/5 sm:w-5/6 m-auto pt-20 pb-20 gap-10 dark:bg-[#0d1117] dark:text-[#c9d1d9]"><ul id="scroll-spy" class="sm:hidden p-10 fixed top-50 right-0 h-full w-1/5 text-gray-500 dark:text-[#c9d1d9]"></ul><div class="text-5xl font-bold">JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸</div><div class="flex flex-col gap-2"><div class="text-base text-gray-600 dark:text-gray-300">2024-01-07 10:00</div><div class="flex flex-wrap gap-2 dark:text-black sm:m-0"><span class="p-1 pl-3 pr-3 rounded-md bg-indigo-100 hover:bg-indigo-200 cursor-pointer transition ease-in-out duration-200 text-sm">JPA</span></div></div><div class="flex items-center gap-2"><span class="text-sm text-gray-400">ğŸ‡ºğŸ‡¸ ì˜ì–´ë¡œ ì½ê¸°</span></div><div class="markdown-body" style="font-size:17px"><p>ìµœê·¼ êµ¬í˜„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ <code node="[object Object]">@Transactional</code> ì—¬ë¶€ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ë¬¸ì œë¥¼ ë§Œë‚˜ê²Œ ë˜ì—ˆë‹¤.</p>
<p>íƒ€ ì„œë¹„ìŠ¤ë¡œë¶€í„° ì†¡ì¥ ì ‘ìˆ˜ ê²°ê³¼ì— ëŒ€í•œ ì¹´í”„ì¹´ ë©”ì„¸ì§€ë¥¼ ì†Œë¹„í•œ ë‹¤ìŒ, ì†¡ì¥ ì ‘ìˆ˜ì— ì‹¤íŒ¨í–ˆë‹¤ë©´ íƒë°° ë“±ë¡ ì—¬ë¶€ë¥¼ ì‹¤íŒ¨ë¡œ ë³€ê²½í•˜ëŠ” ë¡œì§ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜€ëŠ”ë° ë‹¹ì‹œ ìƒí™©ì„ ê°„ë‹¨í•˜ê²Œ ì¬í˜„í•´ ë³´ì•˜ë‹¤.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa"><code class="language-kotlin" style="white-space:pre"><span style="color:#4078f2">@Entity</span><span>  
</span><span></span><span style="color:#4078f2">@Table(name = </span><span style="color:#50a14f">&quot;orders&quot;</span><span style="color:#4078f2">)</span><span>  
</span><span></span><span class="hljs-class" style="color:#a626a4">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#4078f2">Order</span><span class="hljs-class"> </span><span>(  
</span><span>    </span><span style="color:#a626a4">val</span><span> shippingLabel: String,  
</span><span>    </span><span style="color:#a626a4">var</span><span> parcelStatus: </span><span style="color:#c18401">Boolean</span><span> = </span><span style="color:#0184bb">true</span><span>,  
</span>  
<span>    </span><span style="color:#4078f2">@Id</span><span>  
</span><span>    </span><span style="color:#4078f2">@GeneratedValue(strategy = GenerationType.IDENTITY)</span><span>  
</span><span>    </span><span style="color:#a626a4">val</span><span> id: </span><span style="color:#c18401">Long</span><span>? = </span><span style="color:#0184bb">null</span><span>,  
</span>) {  
<span>    </span><span class="hljs-function" style="color:#a626a4">fun</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#4078f2">isParcelRegister</span><span class="hljs-function hljs-params">()</span><span>: </span><span style="color:#c18401">Boolean</span><span> {  
</span><span>        </span><span style="color:#a626a4">return</span><span> parcelStatus  
</span>    }  
<!-- -->  
<span>    </span><span class="hljs-function" style="color:#a626a4">fun</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#4078f2">updateParcelStatus</span><span class="hljs-function hljs-params">(registerSuccess: </span><span class="hljs-function hljs-params" style="color:#986801">Boolean</span><span class="hljs-function hljs-params">)</span><span> {  
</span>        parcelStatus = registerSuccess  
<!-- -->    }  
<!-- -->}</code></div></pre>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa"><code class="language-kotlin" style="white-space:pre"><span style="color:#4078f2">@Service</span><span>  
</span><span></span><span class="hljs-class" style="color:#a626a4">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#4078f2">OrderStatusService</span><span>(  
</span><span>    </span><span style="color:#a626a4">private</span><span> </span><span style="color:#a626a4">val</span><span> orderRepository: OrderRepository,  
</span>) {  
<!-- -->    
<span>    </span><span style="color:#4078f2">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color:#a626a4">fun</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#4078f2">checkOrderSubmissionStatus</span><span class="hljs-function hljs-params">(message: </span><span class="hljs-function hljs-params" style="color:#986801">OutSourcingResultMessage</span><span class="hljs-function hljs-params">)</span><span> {  
</span><span>        </span><span style="color:#a626a4">val</span><span> order = orderRepository.findByShippingLabel(message.shippingLabel)  
</span>        order.updateParcelStatus(message.registerSuccess)  
<!-- -->    }  
<!-- -->}</code></div></pre>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa"><code class="language-kotlin" style="white-space:pre"><span style="color:#4078f2">@SpringBootTest</span><span>  
</span><span></span><span class="hljs-class" style="color:#a626a4">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#4078f2">OrderStatusChangeServiceTest</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#4078f2">@Autowired</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#a626a4">constructor</span><span>(  
</span><span>    </span><span style="color:#a626a4">private</span><span> </span><span style="color:#a626a4">val</span><span> orderStatusService: OrderStatusService,  
</span><span>    </span><span style="color:#a626a4">private</span><span> </span><span style="color:#a626a4">val</span><span> orderRepository: OrderRepository,  
</span>) {  
<!-- -->  
<span>    </span><span style="color:#4078f2">@Test</span><span>  
</span><span>    </span><span style="color:#4078f2">@DisplayName(</span><span style="color:#50a14f">&quot;ì†¡ì¥ì ‘ìˆ˜ì— ì‹¤íŒ¨í•˜ë©´ íƒë°°ë“±ë¡ ì—¬ë¶€ë¥¼ ì‹¤íŒ¨ í‘œì‹œ í•´ì•¼í•œë‹¤.&quot;</span><span style="color:#4078f2">)</span><span>  
</span><span>    </span><span class="hljs-function" style="color:#a626a4">fun</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#4078f2">checkOrderSubmissionStatusTest</span><span class="hljs-function hljs-params">()</span><span> {  
</span><span>        </span><span style="color:#a626a4">val</span><span> order = Order(shippingLabel = </span><span style="color:#50a14f">&quot;12345&quot;</span><span>)  
</span><span>        </span><span style="color:#a626a4">val</span><span> savedOrder = orderRepository.save(order)  
</span><span>        </span><span style="color:#a626a4">val</span><span> failureMessage = OutSourcingResultMessage(  
</span>            shippingLabel = savedOrder.shippingLabel,  
<span>            registerSuccess = </span><span style="color:#0184bb">false</span><span>  
</span>        )  
<!-- -->  
<!-- -->        orderStatusService.checkOrderSubmissionStatus(failureMessage)  
<!-- -->  
<span>        order.isParcelRegister() shouldBe </span><span style="color:#0184bb">false</span><span>  
</span>    }  
<!-- -->}</code></div></pre>
<p>OrderStatusChangeServiceì˜ checkOrderSubmissionStatus(failureMessage) ë©”ì„œë“œì— <code node="[object Object]">@Transactional</code>ì´ ê±¸ë ¤ìˆê³  orderì˜ <code node="[object Object]">parcelStatus</code>ë¥¼ trueì—ì„œ <strong>false</strong>ë¡œ ë³€ê²½í•œë‹¤.</p>
<p>ì´ë•Œ JPA ë”í‹° ì²´í‚¹ì„ í™œìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ê°’ì„ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— checkOrderSubmissionStatus ë©”ì„œë“œê°€ ì¢…ë£Œë˜ëŠ” ì‹œì ì— checkOrderSubmissionstatusì˜ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ ë˜ë©´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ ì‚¬í•­ì´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ flush ë  ê²ƒì´ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•  ê²ƒì´ë¼ ì˜ˆìƒëœë‹¤.</p>
<p>í•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼, í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>
<p><img src="https://i.imgur.com/lTvSdwQ.png" alt="Post image" node="[object Object]" style="max-height:450px;max-width:90%"/></p>
<p>ì´ë•Œ checkOrderSubmissionStatusë¥¼ í˜¸ì¶œí•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì— <code node="[object Object]">@Transactional</code>ì„ ê±¸ì–´ì£¼ë©´ í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•œë‹¤.</p>
<p>ì™œ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ <code node="[object Object]">@Transactional</code> ì—¬ë¶€ì— ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ê²ƒì¼ê¹Œ?</p>
<h2>í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ê´€ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤</h2>
<p>ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ê¸°ë³¸ì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµì„ ì‚¬ìš©í•œë‹¤.</p>
<p>ì¦‰, íŠ¸ëœì­ì…˜ ë²”ìœ„ì™€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒëª… ì£¼ê¸°ê°€ ê°™ë‹¤ëŠ” ëœ»ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•  ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ê³  íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì‹œì ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ flushí•˜ê³  ì¢…ë£Œí•œë‹¤.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa"><code class="language-kotlin" style="white-space:pre"><span style="color:#4078f2">@SpringBootTest</span><span>  
</span><span></span><span class="hljs-class" style="color:#a626a4">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#4078f2">OrderStatusChangeServiceTest</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#4078f2">@Autowired</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#a626a4">constructor</span><span>(  
</span><span>    </span><span style="color:#a626a4">private</span><span> </span><span style="color:#a626a4">val</span><span> orderStatusService: OrderStatusService,  
</span><span>    </span><span style="color:#a626a4">private</span><span> </span><span style="color:#a626a4">val</span><span> orderRepository: OrderRepository,  
</span><span>    </span><span style="color:#a626a4">private</span><span> </span><span style="color:#a626a4">val</span><span> entityManager: EntityManager,  
</span>) {  
<!-- -->  
<span>    </span><span style="color:#4078f2">@Test</span><span>  
</span><span>    </span><span style="color:#4078f2">@DisplayName(</span><span style="color:#50a14f">&quot;ì†¡ì¥ì ‘ìˆ˜ì— ì‹¤íŒ¨í•˜ë©´ íƒë°°ë“±ë¡ ì—¬ë¶€ë¥¼ ì‹¤íŒ¨ í‘œì‹œ í•´ì•¼í•œë‹¤.&quot;</span><span style="color:#4078f2">)</span><span>  
</span><span>    </span><span class="hljs-function" style="color:#a626a4">fun</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#4078f2">checkOrderSubmissionStatusTest</span><span class="hljs-function hljs-params">()</span><span> {  
</span><span>        </span><span style="color:#a626a4">val</span><span> order = Order(shippingLabel = </span><span style="color:#50a14f">&quot;12345&quot;</span><span>)  
</span><span>        </span><span style="color:#a626a4">val</span><span> savedOrder = orderRepository.save(order)  
</span><span>        </span><span style="color:#a626a4">val</span><span> failureMessage = OutSourcingResultMessage(  
</span>            shippingLabel = savedOrder.shippingLabel,  
<span>            registerSuccess = </span><span style="color:#0184bb">false</span><span>  
</span>        )  
<!-- -->  
<span>        println(entityManager.contains(savedOrder)) </span><span style="color:#a0a1a7;font-style:italic">// false  </span><span>
</span>        orderStatusService.checkOrderSubmissionStatus(failureMessage)  
<!-- -->  
<span>        order.isParcelRegister() shouldBe </span><span style="color:#0184bb">false</span><span>  
</span>    }  
<!-- -->}</code></div></pre>
<p>ìœ„ì˜ ê²°ê³¼ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì—”í‹°í‹°ëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ ë°–ì´ê¸° ë•Œë¬¸ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡ì´ ë˜ì–´ìˆì§€ ì•Šë‹¤. <code node="[object Object]">checkOrderSubmissionStatus</code> ë©”ì„œë“œ ë‚´ì—ì„œ ì¡°íšŒí•´ ì˜¨ OrderëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ì´ê¸° ë•Œë¬¸ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ ê´€ë¦¬ë˜ê³  ìˆì§€ë§Œ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ê²€ì¦ì˜ ëŒ€ìƒì´ ë˜ëŠ” OrderëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ ë°–ì—ì„œ ì¡°íšŒëœ, <strong>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ”</strong> Orderë¥¼ ëŒ€ìƒìœ¼ë¡œ ë°ì´í„° ë³€ê²½ <strong>ê²€ì¦ì´ ì´ë£¨ì–´ì§„ë‹¤</strong>.</p>
<p>ë•Œë¬¸ì— ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¬ëŸ¼ê°’ì€ ì˜ë„í•œ ëŒ€ë¡œ trueì—ì„œ falseë¡œ ë³€ê²½ë˜ì—ˆì§€ë§Œ, í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ OrderëŠ”
ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œì— ê´€ë¦¬ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë‹¹ì—°í•˜ê²Œë„ ë”í‹° ì²´í‚¹ì˜ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ì—†ëŠ” ê²ƒì´ë‹¤.</p>
<p>í…ŒìŠ¤íŠ¸ ì½”ë“œì— <code node="[object Object]">@Transactional</code>ì„ ë¶™ì—¬ì¤€ë‹¤ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ ê´€ë¦¬ë˜ê²Œ ë˜ê³  1ì°¨ ìºì‹œì— ì˜í•´ ë”í‹° ì²´í‚¹ ëŒ€ìƒì´ ë˜ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ê²Œ ëœë‹¤.</p>
<h2>JpaTransactionManagerëŠ” íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ EntityManagerë¥¼ ê´€ë¦¬í•œë‹¤</h2>
<p>ìœ„ ì‚¬ë¡€ë¥¼ í†µí•´ì„œ ë”í‹° ì²´í‚¹ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ê´€ë¦¬í•˜ëŠ” ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ì—ë§Œ ì ìš©ë˜ë©°, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ ìƒì„±, ì‚­ì œëœë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.</p>
<p>JPAê°€ íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±, ê´€ë¦¬í•˜ëŠ” ë¶€ë¶„ì˜ ì½”ë“œë¥¼ í•œë²ˆ ì‚´í´ë³´ì•˜ë‹¤.</p>
<p>ë¨¼ì € ìŠ¤í”„ë§ì˜ í‘œì¤€ íŠ¸ë™ì­ì…˜ ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬í˜„í•˜ëŠ” <code node="[object Object]">AbstractPlatformTransactionManager</code> í´ë˜ìŠ¤ë¥¼ ì‚´í´ë³´ë©´ <code node="[object Object]">startTransaction()</code> ë©”ì„œë“œì—ì„œ
<code node="[object Object]">TransactionManager</code>ì˜ <code node="[object Object]">doBegin()</code> ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>
<p><img src="https://i.imgur.com/l4sY5Fz.png" alt="Post image" node="[object Object]" style="max-height:450px;max-width:90%"/></p>
<p><code node="[object Object]">doBegin()</code> ë©”ì„œë“œëŠ” <code node="[object Object]">TransactionManager</code>ë¥¼ êµ¬í˜„í•˜ëŠ” <code node="[object Object]">JpaTransactionManager</code>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<p><img src="https://i.imgur.com/7Qm3pOV.png" alt="Post image" node="[object Object]" style="max-height:450px;max-width:90%"/></p>
<p>ì´ë•Œ  ìƒˆë¡œ ì‹œì‘ëœ íŠ¸ëœì­ì…˜ì´ë¼ë©´ EntityManagerë¥¼ ìƒì„±í•˜ê³  <code node="[object Object]">JpaTransactionObject</code>ì— ì €ì¥í•œë‹¤.</p>
<p><code node="[object Object]">JpaTransactionObject</code>ëŠ” í˜„ì¬ íŠ¸ëœì­ì…˜ì˜ ìƒíƒœë¥¼ ì¶”ì í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ì—ì„œ ì‚¬ìš©ë˜ëŠ” EntityManagerë¥¼ <code node="[object Object]">EntityManagerHolder</code>ë¥¼ í†µí•´ì„œ ê´€ë¦¬í•˜ê³  ìˆë‹¤.</p>
<p>ì´ëŸ¬í•œ ë¡œì§ì„ í†µí•´ì„œ íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ì—ì„œ ë™ì¼í•œ EntityManagerê°€ ì‚¬ìš©ë  ìˆ˜ ìˆë˜ ê²ƒì´ë‹¤.</p>
<h2>ë§ˆë¬´ë¦¬</h2>
<p>ì§€ê¸ˆê¹Œì§€ íŠ¸ëœì­ì…˜ ë²”ìœ„ì™€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒëª… ì£¼ê¸°ê°€ ì–´ë–»ê²Œ ê´€ë¦¬ë˜ëŠ”ì§€ ì•Œì•„ë³´ì•˜ë‹¤.</p>
<p>ì‚¬ì‹¤ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒì¡´ ë²”ìœ„ê°€ í•­ìƒ íŠ¸ëœì­ì…˜ ë²”ìœ„ë‚´ì¸ ê²ƒì€ ì•„ë‹ˆë‹¤.
OSIV(Open Session In View)ë¥¼ ì‚¬ìš©í•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë²”ìœ„ë¥¼ íŠ¸ëœì­ì…˜ ë²”ìœ„ ë°–ê¹Œì§€ í™•ì¥ í•  ìˆ˜ ìˆë‹¤.</p></div><section></section></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"post2-2","lang":"ko","title":"JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸","category":null,"thumbnail":"https://images.velog.io/images/dnjscksdn98/post/14072bd8-850b-4d2b-8476-cb5385bbcd36/jpa.png","tags":"JPA","date":"2024-01-07 10:00","searchKeywords":"jpa, entitymanager, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸, íŠ¸ëœì­ì…˜","description":"JPA íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸","preview":"\nìµœê·¼ êµ¬í˜„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ `@Transactional` ì—¬ë¶€ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ë¬¸ì œë¥¼ ë§Œë‚˜ê²Œ ë˜ì—ˆë‹¤.\n\níƒ€ ì„œë¹„ìŠ¤ë¡œë¶€í„° ì†¡ì¥ ì ‘ìˆ˜ ê²°ê³¼ì— ëŒ€í•œ ì¹´í”„ì¹´ ë©”ì„¸ì§€ë¥¼ ì†Œë¹„í•œ ë‹¤ìŒ, ì†¡ì¥ ì ‘ìˆ˜ì— ì‹¤íŒ¨í–ˆë‹¤ë©´ íƒë°° ë“±ë¡ ì—¬ë¶€ë¥¼ ì‹¤íŒ¨ë¡œ ë³€ê²½í•˜ëŠ” ë¡œ"},"detail":"\nìµœê·¼ êµ¬í˜„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ `@Transactional` ì—¬ë¶€ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ë¬¸ì œë¥¼ ë§Œë‚˜ê²Œ ë˜ì—ˆë‹¤.\n\níƒ€ ì„œë¹„ìŠ¤ë¡œë¶€í„° ì†¡ì¥ ì ‘ìˆ˜ ê²°ê³¼ì— ëŒ€í•œ ì¹´í”„ì¹´ ë©”ì„¸ì§€ë¥¼ ì†Œë¹„í•œ ë‹¤ìŒ, ì†¡ì¥ ì ‘ìˆ˜ì— ì‹¤íŒ¨í–ˆë‹¤ë©´ íƒë°° ë“±ë¡ ì—¬ë¶€ë¥¼ ì‹¤íŒ¨ë¡œ ë³€ê²½í•˜ëŠ” ë¡œì§ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜€ëŠ”ë° ë‹¹ì‹œ ìƒí™©ì„ ê°„ë‹¨í•˜ê²Œ ì¬í˜„í•´ ë³´ì•˜ë‹¤.\n\n```kotlin\n@Entity  \n@Table(name = \"orders\")  \nclass Order (  \n    val shippingLabel: String,  \n    var parcelStatus: Boolean = true,  \n  \n    @Id  \n    @GeneratedValue(strategy = GenerationType.IDENTITY)  \n    val id: Long? = null,  \n) {  \n    fun isParcelRegister(): Boolean {  \n        return parcelStatus  \n    }  \n  \n    fun updateParcelStatus(registerSuccess: Boolean) {  \n        parcelStatus = registerSuccess  \n    }  \n}\n```\n\n```kotlin\n@Service  \nclass OrderStatusService(  \n    private val orderRepository: OrderRepository,  \n) {  \n    \n    @Transactional  \n    fun checkOrderSubmissionStatus(message: OutSourcingResultMessage) {  \n        val order = orderRepository.findByShippingLabel(message.shippingLabel)  \n        order.updateParcelStatus(message.registerSuccess)  \n    }  \n}\n```\n\n```kotlin\n@SpringBootTest  \nclass OrderStatusChangeServiceTest @Autowired constructor(  \n    private val orderStatusService: OrderStatusService,  \n    private val orderRepository: OrderRepository,  \n) {  \n  \n    @Test  \n    @DisplayName(\"ì†¡ì¥ì ‘ìˆ˜ì— ì‹¤íŒ¨í•˜ë©´ íƒë°°ë“±ë¡ ì—¬ë¶€ë¥¼ ì‹¤íŒ¨ í‘œì‹œ í•´ì•¼í•œë‹¤.\")  \n    fun checkOrderSubmissionStatusTest() {  \n        val order = Order(shippingLabel = \"12345\")  \n        val savedOrder = orderRepository.save(order)  \n        val failureMessage = OutSourcingResultMessage(  \n            shippingLabel = savedOrder.shippingLabel,  \n            registerSuccess = false  \n        )  \n  \n        orderStatusService.checkOrderSubmissionStatus(failureMessage)  \n  \n        order.isParcelRegister() shouldBe false  \n    }  \n}\n```\n\nOrderStatusChangeServiceì˜ checkOrderSubmissionStatus(failureMessage) ë©”ì„œë“œì— `@Transactional`ì´ ê±¸ë ¤ìˆê³  orderì˜ `parcelStatus`ë¥¼ trueì—ì„œ **false**ë¡œ ë³€ê²½í•œë‹¤.\n\nì´ë•Œ JPA ë”í‹° ì²´í‚¹ì„ í™œìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ê°’ì„ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— checkOrderSubmissionStatus ë©”ì„œë“œê°€ ì¢…ë£Œë˜ëŠ” ì‹œì ì— checkOrderSubmissionstatusì˜ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ ë˜ë©´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ ì‚¬í•­ì´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ flush ë  ê²ƒì´ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•  ê²ƒì´ë¼ ì˜ˆìƒëœë‹¤.\n\ní•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼, í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\n\n![[ìŠ¤í¬ë¦°ìƒ· 2024-01-06 ì˜¤í›„ 9.20.22.png]](https://i.imgur.com/lTvSdwQ.png)\n\nì´ë•Œ checkOrderSubmissionStatusë¥¼ í˜¸ì¶œí•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì— `@Transactional`ì„ ê±¸ì–´ì£¼ë©´ í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•œë‹¤.\n\nì™œ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ `@Transactional` ì—¬ë¶€ì— ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ê²ƒì¼ê¹Œ?\n## í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ê´€ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤\n\nìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ê¸°ë³¸ì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµì„ ì‚¬ìš©í•œë‹¤.\n\nì¦‰, íŠ¸ëœì­ì…˜ ë²”ìœ„ì™€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒëª… ì£¼ê¸°ê°€ ê°™ë‹¤ëŠ” ëœ»ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•  ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ê³  íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì‹œì ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ flushí•˜ê³  ì¢…ë£Œí•œë‹¤.\n\n```kotlin\n@SpringBootTest  \nclass OrderStatusChangeServiceTest @Autowired constructor(  \n    private val orderStatusService: OrderStatusService,  \n    private val orderRepository: OrderRepository,  \n    private val entityManager: EntityManager,  \n) {  \n  \n    @Test  \n    @DisplayName(\"ì†¡ì¥ì ‘ìˆ˜ì— ì‹¤íŒ¨í•˜ë©´ íƒë°°ë“±ë¡ ì—¬ë¶€ë¥¼ ì‹¤íŒ¨ í‘œì‹œ í•´ì•¼í•œë‹¤.\")  \n    fun checkOrderSubmissionStatusTest() {  \n        val order = Order(shippingLabel = \"12345\")  \n        val savedOrder = orderRepository.save(order)  \n        val failureMessage = OutSourcingResultMessage(  \n            shippingLabel = savedOrder.shippingLabel,  \n            registerSuccess = false  \n        )  \n  \n        println(entityManager.contains(savedOrder)) // false  \n        orderStatusService.checkOrderSubmissionStatus(failureMessage)  \n  \n        order.isParcelRegister() shouldBe false  \n    }  \n}\n```\n\nìœ„ì˜ ê²°ê³¼ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì—”í‹°í‹°ëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ ë°–ì´ê¸° ë•Œë¬¸ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡ì´ ë˜ì–´ìˆì§€ ì•Šë‹¤. `checkOrderSubmissionStatus` ë©”ì„œë“œ ë‚´ì—ì„œ ì¡°íšŒí•´ ì˜¨ OrderëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ì´ê¸° ë•Œë¬¸ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ ê´€ë¦¬ë˜ê³  ìˆì§€ë§Œ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ê²€ì¦ì˜ ëŒ€ìƒì´ ë˜ëŠ” OrderëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ ë°–ì—ì„œ ì¡°íšŒëœ, **ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ”** Orderë¥¼ ëŒ€ìƒìœ¼ë¡œ ë°ì´í„° ë³€ê²½ **ê²€ì¦ì´ ì´ë£¨ì–´ì§„ë‹¤**.\n\në•Œë¬¸ì— ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¬ëŸ¼ê°’ì€ ì˜ë„í•œ ëŒ€ë¡œ trueì—ì„œ falseë¡œ ë³€ê²½ë˜ì—ˆì§€ë§Œ, í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ OrderëŠ”\nì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ 1ì°¨ ìºì‹œì— ê´€ë¦¬ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë‹¹ì—°í•˜ê²Œë„ ë”í‹° ì²´í‚¹ì˜ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ì—†ëŠ” ê²ƒì´ë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì½”ë“œì— `@Transactional`ì„ ë¶™ì—¬ì¤€ë‹¤ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ ê´€ë¦¬ë˜ê²Œ ë˜ê³  1ì°¨ ìºì‹œì— ì˜í•´ ë”í‹° ì²´í‚¹ ëŒ€ìƒì´ ë˜ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ê²Œ ëœë‹¤.\n## JpaTransactionManagerëŠ” íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ EntityManagerë¥¼ ê´€ë¦¬í•œë‹¤\n\nìœ„ ì‚¬ë¡€ë¥¼ í†µí•´ì„œ ë”í‹° ì²´í‚¹ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ê´€ë¦¬í•˜ëŠ” ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ì—ë§Œ ì ìš©ë˜ë©°, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ ìƒì„±, ì‚­ì œëœë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.\n\nJPAê°€ íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±, ê´€ë¦¬í•˜ëŠ” ë¶€ë¶„ì˜ ì½”ë“œë¥¼ í•œë²ˆ ì‚´í´ë³´ì•˜ë‹¤.\n\në¨¼ì € ìŠ¤í”„ë§ì˜ í‘œì¤€ íŠ¸ë™ì­ì…˜ ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬í˜„í•˜ëŠ” `AbstractPlatformTransactionManager` í´ë˜ìŠ¤ë¥¼ ì‚´í´ë³´ë©´ `startTransaction()` ë©”ì„œë“œì—ì„œ \n`TransactionManager`ì˜ `doBegin()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\n\n![[ìŠ¤í¬ë¦°ìƒ· 2024-01-07 ì˜¤í›„ 6.59.49.png]](https://i.imgur.com/l4sY5Fz.png)\n\n`doBegin()` ë©”ì„œë“œëŠ” `TransactionManager`ë¥¼ êµ¬í˜„í•˜ëŠ” `JpaTransactionManager`ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n![[ìŠ¤í¬ë¦°ìƒ· 2024-01-07 ì˜¤í›„ 7.26.00.png]](https://i.imgur.com/7Qm3pOV.png)\n\nì´ë•Œ  ìƒˆë¡œ ì‹œì‘ëœ íŠ¸ëœì­ì…˜ì´ë¼ë©´ EntityManagerë¥¼ ìƒì„±í•˜ê³  `JpaTransactionObject`ì— ì €ì¥í•œë‹¤.\n\n`JpaTransactionObject`ëŠ” í˜„ì¬ íŠ¸ëœì­ì…˜ì˜ ìƒíƒœë¥¼ ì¶”ì í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ì—ì„œ ì‚¬ìš©ë˜ëŠ” EntityManagerë¥¼ `EntityManagerHolder`ë¥¼ í†µí•´ì„œ ê´€ë¦¬í•˜ê³  ìˆë‹¤.\n\nì´ëŸ¬í•œ ë¡œì§ì„ í†µí•´ì„œ íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ì—ì„œ ë™ì¼í•œ EntityManagerê°€ ì‚¬ìš©ë  ìˆ˜ ìˆë˜ ê²ƒì´ë‹¤.\n\n## ë§ˆë¬´ë¦¬\n\nì§€ê¸ˆê¹Œì§€ íŠ¸ëœì­ì…˜ ë²”ìœ„ì™€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒëª… ì£¼ê¸°ê°€ ì–´ë–»ê²Œ ê´€ë¦¬ë˜ëŠ”ì§€ ì•Œì•„ë³´ì•˜ë‹¤.\n\nì‚¬ì‹¤ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒì¡´ ë²”ìœ„ê°€ í•­ìƒ íŠ¸ëœì­ì…˜ ë²”ìœ„ë‚´ì¸ ê²ƒì€ ì•„ë‹ˆë‹¤.\nOSIV(Open Session In View)ë¥¼ ì‚¬ìš©í•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë²”ìœ„ë¥¼ íŠ¸ëœì­ì…˜ ë²”ìœ„ ë°–ê¹Œì§€ í™•ì¥ í•  ìˆ˜ ìˆë‹¤.","lang":"ko","allPostsInOtherLang":[]},"__N_SSG":true},"page":"/[lang]/[id]","query":{"lang":"ko","id":"post2-2"},"buildId":"l20VKt653kLNoR7r7DQQf","assetPrefix":"/log","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>