<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="https://i.imgur.com/2nHGFTv.png"/><link rel="icon" type="image/png" sizes="32x32" href="https://i.imgur.com/2nHGFTv.png"/><link rel="icon" type="image/png" sizes="16x16" href="https://i.imgur.com/2nHGFTv.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><title>Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”</title><meta name="title" content="Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”"/><meta name="description" content="Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”"/><meta name="keywords" content="ìë°”, jvm, ì •ì  ë³€ìˆ˜"/><meta name="robots" content="index, follow"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="language" content="Korean"/><meta name="author" content="Sanha Ko"/><meta property="og:title" content="Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”"/><meta property="og:url" content="https://headf1rst.github.io/log/ko/post2"/><meta property="og:type" content="blog"/><meta property="og:image" content="https://i.imgur.com/5AJJwhh.png"/><meta property="og:description" content="Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”"/><link rel="alternate" hrefLang="ko" href="https://headf1rst.github.io/log/ko/post2"/><link rel="alternate" hrefLang="en" href="https://headf1rst.github.io/log/en/post2"/><link rel="alternate" hrefLang="x-default" href="https://headf1rst.github.io/log/ko/post2"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”","datePublished":"2022-07-11 10:00","dateModified":"2022-07-11 10:00","author":{"@type":"Person","name":"Sanha Ko"},"description":"Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”","image":"https://i.imgur.com/5AJJwhh.png","url":"https://headf1rst.github.io/TIL/ko/post2","keywords":"Java,JVM","inLanguage":"ko-KR","publisher":{"@type":"Organization","name":"headF1rst","logo":{"@type":"ImageObject","url":"https://headf1rst.github.io/TIL/favicon.ico"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://headf1rst.github.io/TIL/ko/post2"}}</script><meta name="next-head-count" content="26"/><link rel="preload" href="/log/_next/static/css/49b6b03d08bd7c95.css" as="style"/><link rel="stylesheet" href="/log/_next/static/css/49b6b03d08bd7c95.css" data-n-g=""/><link rel="preload" href="/log/_next/static/css/38994dd0aed51f22.css" as="style"/><link rel="stylesheet" href="/log/_next/static/css/38994dd0aed51f22.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/log/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/log/_next/static/chunks/webpack-1b0decc0375da57b.js" defer=""></script><script src="/log/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/log/_next/static/chunks/main-6e6d6dc6617c8481.js" defer=""></script><script src="/log/_next/static/chunks/pages/_app-7797c1cc757d9cb4.js" defer=""></script><script src="/log/_next/static/chunks/pages/%5Blang%5D/%5Bid%5D-ecb4d82428218a99.js" defer=""></script><script src="/log/_next/static/mel4nyyxs2AfGGjvQay4E/_buildManifest.js" defer=""></script><script src="/log/_next/static/mel4nyyxs2AfGGjvQay4E/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav class="flex bg-white sticky top-0 left-0 z-50 justify-between items-center border-b-2 border-gray-100 py-3 md:justify-start md:space-x-10 px-10 sm:px-5 dark:bg-[#0d1117] dark:text-[#c9d1d9] dark:border-gray-600"><div class="flex justify-start"><a href="/log/ko/"><div class="flex items-center gap-2 cursor-pointer"><h1 class="text-lg ">JustAnotherBlog</h1></div></a></div><div class="flex justify-between gap-10 sm:hidden items-center"><a href="/log/ko/"><button class="font-light hover:text-indigo-300 text-base">Home</button></a><a href="/log/ko/?section=tech"><button class="font-light hover:text-indigo-300 text-base">Tech</button></a><a href="/log/ko/?section=domain"><button class="font-light hover:text-indigo-300 text-base">Domain</button></a><a href="https://plain-composer-c65.notion.site/29c7640fdf054059b6ea28ed61189bfb" target="_blank" rel="noreferrer" class="hover:text-indigo-300 text-base font-light flex gap-1">About<span class="flex justify-center" style="align-items:center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z"></path><path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"></path></svg></span></a><div class="relative"><button class="flex items-center gap-1 hover:text-indigo-300 text-base font-light">ğŸ‡°ğŸ‡·<!-- --> <!-- -->í•œêµ­ì–´</button></div></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="lg:hidden" height="25" width="25" xmlns="http://www.w3.org/2000/svg"><path d="M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"></path></svg></nav><main class="dark:bg-[#0d1117] h-screen pb-10"><div class="flex flex-col w-3/5 sm:w-5/6 m-auto pt-20 pb-20 gap-10 dark:bg-[#0d1117] dark:text-[#c9d1d9]"><ul id="scroll-spy" class="sm:hidden p-10 fixed top-50 right-0 h-full w-1/5 text-gray-500 dark:text-[#c9d1d9]"></ul><div class="text-5xl font-bold">Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”</div><div class="flex flex-col gap-2"><div class="text-base text-gray-600 dark:text-gray-300">2022-07-11 10:00</div><div class="flex flex-wrap gap-2 dark:text-black sm:m-0"><span class="p-1 pl-3 pr-3 rounded-md bg-indigo-100 hover:bg-indigo-200 cursor-pointer transition ease-in-out duration-200 text-sm">Java</span><span class="p-1 pl-3 pr-3 rounded-md bg-indigo-100 hover:bg-indigo-200 cursor-pointer transition ease-in-out duration-200 text-sm">JVM</span></div></div><div class="flex items-center gap-2"><a class="text-sm text-indigo-600 hover:underline" href="/log/en/post2/">ğŸ‡ºğŸ‡¸ ì˜ì–´ë¡œ ì½ê¸°</a></div><div class="markdown-body" style="font-size:17px"><p>Static í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì  ë³€ìˆ˜ì™€ ì •ì  ë©”ì„œë“œë¥¼ ë§Œë“¤ìˆ˜ ìˆëŠ”ë°, ì´ë“¤ì„ ì •ì  ë©¤ë²„ (í˜¹ì€ í´ë˜ìŠ¤ ë©¤ë²„) ë¼ê³  í•©ë‹ˆë‹¤.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa"><code class="language-java" style="white-space:pre"><span class="hljs-class" style="color:#a626a4">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#4078f2">Lesson</span><span class="hljs-class"> </span><span>{
</span><span>		</span><span style="color:#a626a4">static</span><span> </span><span style="color:#a626a4">int</span><span> score = </span><span style="color:#986801">0</span><span>;
</span><span>		</span><span style="color:#a626a4">static</span><span> String grade = </span><span style="color:#50a14f">&#x27;F&#x27;</span><span>;
</span>
<span>		</span><span class="hljs-function" style="color:#a626a4">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#a626a4">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#4078f2">getScore</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{
</span>			 ...
<!-- -->		}
<!-- -->}</code></div></pre>
<p>Lesson í´ë˜ìŠ¤(Class)ëŠ” Method Areaì— ìƒì„±ë˜ê³ , new ì—°ì‚°ì„ í†µí•´ ìƒì„±í•œ Lesson í´ë˜ìŠ¤ì˜ ê°ì²´(Object)ëŠ” Heap <strong>ì˜ì—­</strong>ì— ìƒì„±ë©ë‹ˆë‹¤.</p>
<p><img src="https://i.imgur.com/Stip2zD.png" alt="Post image" node="[object Object]" style="max-height:450px;max-width:90%"/></p>
<p>ê·¸ë ‡ë‹¤ë©´ ì •ì  ë©¤ë²„ë“¤ì€ ë©”ëª¨ë¦¬ìƒì˜ ì–´ëŠ ìœ„ì¹˜ì— ì €ì¥ì´ ë ê¹Œìš”?</p>
<p>ì •ì  ë©¤ë²„(í´ë˜ìŠ¤ ë©¤ë²„)ëŠ” ë§ ê·¸ëŒ€ë¡œ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ì— ì†Œì†ëœ ë©¤ë²„ê°€ ì•„ë‹ˆë¼ í´ë˜ìŠ¤ì— ê³ ì •ëœ ë©¤ë²„ì…ë‹ˆë‹¤.</p>
<p>ê·¸ë ‡ê¸° ë•Œë¬¸ì—, ì •ì  ë©¤ë²„ëŠ” Classì™€ í•¨ê»˜ í´ë˜ìŠ¤ ë¡œë”ì— ì˜í•´ì„œ <strong>Method Area</strong>ì— ì €ì¥ë˜ì§€ ì•Šì„ê¹Œìš”?</p>
<p>ì €ì˜ ì´ ìƒê°ì€ Java 7ê¹Œì§€ëŠ” ë§ì§€ë§Œ Java 8ë¶€í„°ëŠ” ë°˜ë§Œ ë§ëŠ” ëŒ€ë‹µì´ ë˜ê³  ë§ì•˜ìŠµë‹ˆë‹¤.</p>
<p>ì™œ Java 8ë¶€í„°ëŠ” ë°˜ë§Œ ë§ëŠ” ëŒ€ë‹µì¸ê±¸ê¹Œìš”?</p>
<p>ê·¸ ì´ìœ ëŠ” Java 7ê³¼ 8ì˜ JVM êµ¬ì¡°ì— ë³€í™”ê°€ ìˆì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<h2>Java 7ì˜ HotSpot JVM í™ ê·¸ë¦¬ê³  static ë³€ìˆ˜</h2>
<p>Java 7 ë²„ì „ê¹Œì§€ë§Œ í•´ë„ ì •ì  ë©¤ë²„ë“¤ì€ Method Areaë¥¼ í¬í•¨í•˜ê³  ìˆëŠ”  <code node="[object Object]">PermGen</code> ì˜ì—­ì— ì €ì¥ë˜ì—ˆì—ˆìŠµë‹ˆë‹¤.</p>
<p><img src="https://i.imgur.com/TK8mAwL.png" alt="Post image" node="[object Object]" style="max-height:450px;max-width:90%"/></p>
<p>PermGenì€ ì •ì  ë©¤ë²„ ì™¸ì—ë„, <strong>í´ë˜ìŠ¤ ë©”íƒ€ ë°ì´í„°, interned Stringì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.</strong></p>
<ul>
<li>í´ë˜ìŠ¤ ë©”íƒ€ë°ì´í„° : í´ë˜ìŠ¤ì˜ ì´ë¦„, ìƒì„±ì •ë³´, í•„ë“œì •ë³´, ë©”ì„œë“œ ì •ë³´ ë“±</li>
</ul>
<p>í•˜ì§€ë§Œ ë¬¸ì œëŠ” PermGen ì˜ì—­ì´ ë§¤ìš° ì œí•œì ì¸ í¬ê¸°ë¥¼ ê°–ê³  ìˆë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.</p>
<p>PermGen ì˜ì—­ì˜ default í¬ê¸°ëŠ”, 32-bit JVMì—ì„  64M, 64-bitì—ì„  84Mì— ë¶ˆê³¼í•©ë‹ˆë‹¤.</p>
<p>ë•Œë¬¸ì—, í´ë˜ìŠ¤ ë¡œë”©ì´ ë§ì•„ì§€ê²Œ ë˜ë©´ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•˜ê³ ëŠ” í–ˆìŠµë‹ˆë‹¤.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa"><code class="language-java" style="white-space:pre"><span>java.lang.OutOfMemoryError: PermGen space</span></code></div></pre>
<p>ë¿ë§Œ ì•„ë‹ˆë¼, JVMì€ PermGen ì˜ì—­ì˜ ì‚¬ì´ì¦ˆë¥¼ ìœ ì§€ì‹œí‚¤ê¸° ìœ„í•´ì„œ ì£¼ê¸°ì ìœ¼ë¡œ Garbage Collectionì—°ì‚°ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ëŠ”ë° ì´ëŠ” ì„±ëŠ¥ ì´ìŠˆë¥¼ ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤.</p>
<p>ë¬¼ë¡  <code node="[object Object]">-XX:PermSize</code> , <code node="[object Object]">-XX:MaxPermSize</code> ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ ì‚¬ìš©ìê°€ ì§ì ‘ PermGenì˜ì—­ì„ ì„¤ì •í•´ ì£¼ëŠ”ê²ƒì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ ìë™ìœ¼ë¡œ ì˜ì—­ì˜ ì‚¬ì´ì¦ˆê°€ ëŠ˜ì–´ë‚˜ì§€ ì•Šì•˜ê³ , ë§¤ëª¨ë¦¬ ê°€ìš© ìš©ëŸ‰ì„ ë¯¸ë¦¬ ì˜ˆì¸¡í•´ì„œ ì„¤ì •í•˜ëŠ”ê²ƒì€ ì‰½ì§€ ì•Šì€ ì¼ì´ì—ˆìŠµë‹ˆë‹¤.</p>
<h2>Java 8ì˜ Hotspot JVM ê·¸ë¦¬ê³  static ë³€ìˆ˜</h2>
<p>ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ Java 8ì—ì„  PermGen ì˜ì—­ì´ ì—†ì–´ì§€ê³  <code node="[object Object]">MetaSpace</code> ì˜ì—­ì´ ìƒˆë¡œ ìƒê²¼ìŠµë‹ˆë‹¤.</p>
<p>Metaspace ì˜ì—­ì€ í™ì´ ì•„ë‹Œ Native ë©”ëª¨ë¦¬ ì˜ì—­ìœ¼ë¡œ ì·¨ê¸‰ë©ë‹ˆë‹¤.</p>
<p><img src="https://i.imgur.com/4VucRG4.png" alt="Post image" node="[object Object]" style="max-height:450px;max-width:90%"/></p>
<p><a href="https://openjdk.org/jeps/122">https://openjdk.org/jeps/122</a></p>
<p>í™ ì˜ì—­ì€ JVMì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ì˜ì—­ì´ì§€ë§Œ Native ë©”ëª¨ë¦¬ ì˜ì—­ì€ OS ë ˆë²¨ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.</p>
<p>ì¦‰, Metaspaceê°€ Native ë©”ëª¨ë¦¬ë¥¼ ì´ìš©í•¨ìœ¼ë¡œì¨ ê°œë°œìëŠ” ì˜ì—­ í™•ë³´ì˜ ìƒí•œì„ í¬ê²Œ ì˜ì‹í•  í•„ìš”ê°€ ì—†ì–´ì§€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. (metaspaceì˜ ì‚¬ì´ì¦ˆëŠ” auto increase ë©ë‹ˆë‹¤)</p>
<p><code node="[object Object]">metaspace</code> ì—ì„œëŠ” <strong>í´ë˜ìŠ¤ ë©”íƒ€ ë°ì´í„°</strong>ë§Œì„ ì €ì¥í•˜ê³  ì •ì  ë©¤ë²„ì™€ interned stringì€ í™ì—ì„œ ê´€ë¦¬ë˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>MetaspaceëŠ” í´ë˜ìŠ¤ ë©”íƒ€ ë°ì´í„°ë¥¼ nativeë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³  ë¶€ì¡±í•  ê²½ìš° ìë™ìœ¼ë¡œ ëŠ˜ë ¤ì¤ë‹ˆë‹¤.</p>
<p>ë•ë¶„ì— ë”ì´ìƒ PermSize ì„¤ì •ì„ ê³ ë ¤í•  í•„ìš”ê°€ ì—†ì–´ì¡Œê³  MetaspaceSize, MaxMetaspaceSizeê°€ ìƒˆë¡­ê²Œ ì‚¬ìš©ë˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ë§Œì•½ ë³„ë„ì˜ MetaspaceSize ì„¤ì •ì„ í•˜ì§€ ì•Šìœ¼ë©´ Native memory ìì›ì„ ìµœëŒ€í•œ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.</p>
<p>(Default jvm MaxMetaspaceSize = None)</p>
<h2>ê²°ë¡ </h2>
<p>ìš”ì•½í•˜ìë©´, Java 7ì—ì„œëŠ” ì •ì  ë©¤ë²„ ë³€ìˆ˜ê°€ PermGen(Method Area)ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ ë©”ëª¨ë¦¬ ê´€ë¦¬ìƒì˜ ë¬¸ì œë¡œ ì¸í•´ PermGen ì˜ì—­ì´ ì‚¬ë¼ì§€ê³  Metaspace ì˜ì—­ì´ ë“±ì¥í•˜ë©´ì„œ, ì •ì  ë©¤ë²„ ë³€ìˆ˜ëŠ” í™ì— ì €ì¥ì´ ë˜ë„ë¡ ë³€ê²½ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p><strong>ì°¸ê³  ìë£Œ</strong></p>
<p><a href="https://openjdk.org/jeps/122">JEP 122: Remove the Permanent Generation</a></p>
<p><a href="https://stackoverflow.com/questions/8387989/where-are-static-methods-and-static-variables-stored-in-java">Where are static methods and static variables stored in Java?</a></p>
<p><a href="https://blog.voidmainvoid.net/315">Java PermGenì˜ ì—­ì‚¬</a></p>
<p><a href="https://77loopin.github.io/java/Java-1/">Hotspot JVMì˜ í™ êµ¬ì¡°</a></p>
<p><a href="https://www.geeksforgeeks.org/metaspace-in-java-8-with-examples/#:~:text=Method%20Area%20is%20a%20part,which%20leads%20to%20an%20OutOfMemoryError">https://www.geeksforgeeks.org/metaspace-in-java-8-with-examples/#:~:text=Method Area is a part,which leads to an OutOfMemoryError</a>.</p></div><section></section></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"post2","lang":"ko","title":"Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”","section":"tech","thumbnail":"https://i.imgur.com/5AJJwhh.png","tags":"Java, JVM","date":"2022-07-11 10:00","searchKeywords":"ìë°”, jvm, ì •ì  ë³€ìˆ˜","description":"Static ë³€ìˆ˜ ì €ì¥ìœ„ì¹˜ì™€ JVM êµ¬ì¡°ì˜ ë³€í™”","preview":"\nStatic í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì  ë³€ìˆ˜ì™€ ì •ì  ë©”ì„œë“œë¥¼ ë§Œë“¤ìˆ˜ ìˆëŠ”ë°, ì´ë“¤ì„ ì •ì  ë©¤ë²„ (í˜¹ì€ í´ë˜ìŠ¤ ë©¤ë²„) ë¼ê³  í•©ë‹ˆë‹¤.\n\n```java\nclass Lesson {\n\t\tstatic int score = 0;\n\t\tstatic String grad"},"detail":"\nStatic í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì  ë³€ìˆ˜ì™€ ì •ì  ë©”ì„œë“œë¥¼ ë§Œë“¤ìˆ˜ ìˆëŠ”ë°, ì´ë“¤ì„ ì •ì  ë©¤ë²„ (í˜¹ì€ í´ë˜ìŠ¤ ë©¤ë²„) ë¼ê³  í•©ë‹ˆë‹¤.\n\n```java\nclass Lesson {\n\t\tstatic int score = 0;\n\t\tstatic String grade = 'F';\n\n\t\tstatic void getScore() {\n\t\t\t ...\n\t\t}\n}\n```\n\nLesson í´ë˜ìŠ¤(Class)ëŠ” Method Areaì— ìƒì„±ë˜ê³ , new ì—°ì‚°ì„ í†µí•´ ìƒì„±í•œ Lesson í´ë˜ìŠ¤ì˜ ê°ì²´(Object)ëŠ” Heap **ì˜ì—­**ì— ìƒì„±ë©ë‹ˆë‹¤.\n\n![Untitled](https://i.imgur.com/Stip2zD.png)\n\nê·¸ë ‡ë‹¤ë©´ ì •ì  ë©¤ë²„ë“¤ì€ ë©”ëª¨ë¦¬ìƒì˜ ì–´ëŠ ìœ„ì¹˜ì— ì €ì¥ì´ ë ê¹Œìš”?\n\nì •ì  ë©¤ë²„(í´ë˜ìŠ¤ ë©¤ë²„)ëŠ” ë§ ê·¸ëŒ€ë¡œ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ì— ì†Œì†ëœ ë©¤ë²„ê°€ ì•„ë‹ˆë¼ í´ë˜ìŠ¤ì— ê³ ì •ëœ ë©¤ë²„ì…ë‹ˆë‹¤. \n\nê·¸ë ‡ê¸° ë•Œë¬¸ì—, ì •ì  ë©¤ë²„ëŠ” Classì™€ í•¨ê»˜ í´ë˜ìŠ¤ ë¡œë”ì— ì˜í•´ì„œ **Method Area**ì— ì €ì¥ë˜ì§€ ì•Šì„ê¹Œìš”?\n\nì €ì˜ ì´ ìƒê°ì€ Java 7ê¹Œì§€ëŠ” ë§ì§€ë§Œ Java 8ë¶€í„°ëŠ” ë°˜ë§Œ ë§ëŠ” ëŒ€ë‹µì´ ë˜ê³  ë§ì•˜ìŠµë‹ˆë‹¤.\n\nì™œ Java 8ë¶€í„°ëŠ” ë°˜ë§Œ ë§ëŠ” ëŒ€ë‹µì¸ê±¸ê¹Œìš”?\n\nê·¸ ì´ìœ ëŠ” Java 7ê³¼ 8ì˜ JVM êµ¬ì¡°ì— ë³€í™”ê°€ ìˆì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n## Java 7ì˜ HotSpot JVM í™ ê·¸ë¦¬ê³  static ë³€ìˆ˜\n\nJava 7 ë²„ì „ê¹Œì§€ë§Œ í•´ë„ ì •ì  ë©¤ë²„ë“¤ì€ Method Areaë¥¼ í¬í•¨í•˜ê³  ìˆëŠ”  `PermGen` ì˜ì—­ì— ì €ì¥ë˜ì—ˆì—ˆìŠµë‹ˆë‹¤.\n\n![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-16 á„‹á…©á„Œá…¥á†« 11.14.55.png](https://i.imgur.com/TK8mAwL.png)\n\nPermGenì€ ì •ì  ë©¤ë²„ ì™¸ì—ë„, **í´ë˜ìŠ¤ ë©”íƒ€ ë°ì´í„°, interned Stringì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.**\n\n- í´ë˜ìŠ¤ ë©”íƒ€ë°ì´í„° : í´ë˜ìŠ¤ì˜ ì´ë¦„, ìƒì„±ì •ë³´, í•„ë“œì •ë³´, ë©”ì„œë“œ ì •ë³´ ë“±\n\ní•˜ì§€ë§Œ ë¬¸ì œëŠ” PermGen ì˜ì—­ì´ ë§¤ìš° ì œí•œì ì¸ í¬ê¸°ë¥¼ ê°–ê³  ìˆë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.\n\nPermGen ì˜ì—­ì˜ default í¬ê¸°ëŠ”, 32-bit JVMì—ì„  64M, 64-bitì—ì„  84Mì— ë¶ˆê³¼í•©ë‹ˆë‹¤.\n\në•Œë¬¸ì—, í´ë˜ìŠ¤ ë¡œë”©ì´ ë§ì•„ì§€ê²Œ ë˜ë©´ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•˜ê³ ëŠ” í–ˆìŠµë‹ˆë‹¤.\n\n```java\njava.lang.OutOfMemoryError: PermGen space\n```\n\në¿ë§Œ ì•„ë‹ˆë¼, JVMì€ PermGen ì˜ì—­ì˜ ì‚¬ì´ì¦ˆë¥¼ ìœ ì§€ì‹œí‚¤ê¸° ìœ„í•´ì„œ ì£¼ê¸°ì ìœ¼ë¡œ Garbage Collectionì—°ì‚°ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ëŠ”ë° ì´ëŠ” ì„±ëŠ¥ ì´ìŠˆë¥¼ ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤.\n\në¬¼ë¡  `-XX:PermSize` , `-XX:MaxPermSize` ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ ì‚¬ìš©ìê°€ ì§ì ‘ PermGenì˜ì—­ì„ ì„¤ì •í•´ ì£¼ëŠ”ê²ƒì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ìë™ìœ¼ë¡œ ì˜ì—­ì˜ ì‚¬ì´ì¦ˆê°€ ëŠ˜ì–´ë‚˜ì§€ ì•Šì•˜ê³ , ë§¤ëª¨ë¦¬ ê°€ìš© ìš©ëŸ‰ì„ ë¯¸ë¦¬ ì˜ˆì¸¡í•´ì„œ ì„¤ì •í•˜ëŠ”ê²ƒì€ ì‰½ì§€ ì•Šì€ ì¼ì´ì—ˆìŠµë‹ˆë‹¤.\n\n## Java 8ì˜ Hotspot JVM ê·¸ë¦¬ê³  static ë³€ìˆ˜\n\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ Java 8ì—ì„  PermGen ì˜ì—­ì´ ì—†ì–´ì§€ê³  `MetaSpace` ì˜ì—­ì´ ìƒˆë¡œ ìƒê²¼ìŠµë‹ˆë‹¤.\n\nMetaspace ì˜ì—­ì€ í™ì´ ì•„ë‹Œ Native ë©”ëª¨ë¦¬ ì˜ì—­ìœ¼ë¡œ ì·¨ê¸‰ë©ë‹ˆë‹¤.\n\n![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-16 á„‹á…©á„Œá…¥á†« 11.14.20.png](https://i.imgur.com/4VucRG4.png)\n\n[https://openjdk.org/jeps/122](https://openjdk.org/jeps/122)\n\ní™ ì˜ì—­ì€ JVMì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ì˜ì—­ì´ì§€ë§Œ Native ë©”ëª¨ë¦¬ ì˜ì—­ì€ OS ë ˆë²¨ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.\n\nì¦‰, Metaspaceê°€ Native ë©”ëª¨ë¦¬ë¥¼ ì´ìš©í•¨ìœ¼ë¡œì¨ ê°œë°œìëŠ” ì˜ì—­ í™•ë³´ì˜ ìƒí•œì„ í¬ê²Œ ì˜ì‹í•  í•„ìš”ê°€ ì—†ì–´ì§€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. (metaspaceì˜ ì‚¬ì´ì¦ˆëŠ” auto increase ë©ë‹ˆë‹¤)\n\n`metaspace` ì—ì„œëŠ” **í´ë˜ìŠ¤ ë©”íƒ€ ë°ì´í„°**ë§Œì„ ì €ì¥í•˜ê³  ì •ì  ë©¤ë²„ì™€ interned stringì€ í™ì—ì„œ ê´€ë¦¬ë˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nMetaspaceëŠ” í´ë˜ìŠ¤ ë©”íƒ€ ë°ì´í„°ë¥¼ nativeë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³  ë¶€ì¡±í•  ê²½ìš° ìë™ìœ¼ë¡œ ëŠ˜ë ¤ì¤ë‹ˆë‹¤.\n\në•ë¶„ì— ë”ì´ìƒ PermSize ì„¤ì •ì„ ê³ ë ¤í•  í•„ìš”ê°€ ì—†ì–´ì¡Œê³  MetaspaceSize, MaxMetaspaceSizeê°€ ìƒˆë¡­ê²Œ ì‚¬ìš©ë˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. \n\në§Œì•½ ë³„ë„ì˜ MetaspaceSize ì„¤ì •ì„ í•˜ì§€ ì•Šìœ¼ë©´ Native memory ìì›ì„ ìµœëŒ€í•œ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.\n\n(Default jvm MaxMetaspaceSize = None)\n\n## ê²°ë¡ \n\nìš”ì•½í•˜ìë©´, Java 7ì—ì„œëŠ” ì •ì  ë©¤ë²„ ë³€ìˆ˜ê°€ PermGen(Method Area)ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ë©”ëª¨ë¦¬ ê´€ë¦¬ìƒì˜ ë¬¸ì œë¡œ ì¸í•´ PermGen ì˜ì—­ì´ ì‚¬ë¼ì§€ê³  Metaspace ì˜ì—­ì´ ë“±ì¥í•˜ë©´ì„œ, ì •ì  ë©¤ë²„ ë³€ìˆ˜ëŠ” í™ì— ì €ì¥ì´ ë˜ë„ë¡ ë³€ê²½ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n**ì°¸ê³  ìë£Œ**\n\n[JEP 122: Remove the Permanent Generation](https://openjdk.org/jeps/122)\n\n[Where are static methods and static variables stored in Java?](https://stackoverflow.com/questions/8387989/where-are-static-methods-and-static-variables-stored-in-java)\n\n[Java PermGenì˜ ì—­ì‚¬](https://blog.voidmainvoid.net/315)\n\n[Hotspot JVMì˜ í™ êµ¬ì¡°](https://77loopin.github.io/java/Java-1/)\n\n[https://www.geeksforgeeks.org/metaspace-in-java-8-with-examples/#:~:text=Method Area is a part,which leads to an OutOfMemoryError](https://www.geeksforgeeks.org/metaspace-in-java-8-with-examples/#:~:text=Method%20Area%20is%20a%20part,which%20leads%20to%20an%20OutOfMemoryError).\n","lang":"ko","allPostsInOtherLang":[{"id":"post9","lang":"en","title":"Solving the Billion-Dollar Mistake: Modern Java Null Safety with JSpecify and NullAway","date":"2025-09-24","section":"tech","tags":"Null Safety","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Ftotx4mdagz9nsegld5mr.png","description":"Learn how to eliminate NullPointerExceptions using JSpecify annotations and NullAway static analysis in modern Java applications","searchKeywords":"JSpecify, NullAway, Java null safety, NullPointerException prevention, static analysis","translationSlug":"post10","preview":"\nWhether you're a developer just starting with Java or a senior engineer with two decades of experience, the most frequently encountered err"},{"id":"post8","lang":"en","title":"PostgreSQL MVCC Internals: From xmin/xmax to Isolation Levels","date":"2025-07-06","section":"tech","tags":"PostgreSQL","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F7rk467sodudw3ww7iisi.png","description":"Deep dive into PostgreSQL's MVCC implementation, understanding xmin/xmax and how different isolation levels work internally","searchKeywords":"PostgreSQL, MVCC, xmin, xmax, transaction, isolation level, concurrency control","preview":"\nWhen multiple users access a database concurrently, how can we guarantee Isolation, one of the core `ACID` properties? While we could apply"},{"id":"post7","lang":"en","title":"Prompt Engineering Tips from Anthropic Engineers","date":"2025-06-24","section":"tech","tags":"Prompt Engineering, AI, Anthropic, LLM","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fdzzrfth8zqdnrhbj9538.png","description":"Valuable prompt engineering tips and insights from Anthropic engineers","searchKeywords":"prompt engineering, AI tips, Anthropic, LLM best practices","translationSlug":"post22","preview":"\nHere are a few impressive points from [youtube (AI prompt engineering: A deep dive)](https://www.youtube.com/watch?v=T9aRN5JkmL8\u0026t=2463s) w"},{"id":"post6","lang":"en","title":"From Theory to Practice: A JMH Showdown Between Sequential and Parallel Streams","date":"2025-06-15","section":"tech","tags":"Java, JMH","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F7ytq239pcfe279t9avzg.png","description":"Practical performance comparison between sequential and parallel streams using JMH benchmarking","searchKeywords":"JMH benchmark, Java performance, sequential vs parallel, stream optimization","preview":"\nIn our [previous post](https://dev.to/headf1rst/discover-how-forkjoinpool-powers-javas-high-performance-parallel-processing-3pn7), we delve"},{"id":"post5","lang":"en","title":"Discover how ForkJoinPool powers Java's high-performance parallel processing","date":"2025-06-03","section":"tech","tags":"ForkJoinPool","thumbnail":"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qgawc6pj2vbyzuem20wn.png","description":"Understanding ForkJoinPool and how it powers Java's parallel stream processing","searchKeywords":"ForkJoinPool, Java parallel processing, work-stealing, parallelStream","preview":"\nRecently, I optimized our transport operation plan Excel upload feature, boosting performance for logistics system administrators. This too"},{"id":"post4","lang":"en","title":"Why @Transactional Sometimes Fails: A Deep Dive into Spring AOP Proxies","section":"tech","date":"2025-06-01","tags":"AOP, Transactional","thumbnail":"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/a1wxef2amdixh3lr4any.png","description":"Understanding Spring AOP proxies and why @Transactional sometimes fails with internal method calls","searchKeywords":"Spring AOP, @Transactional, proxy pattern, self-invocation","preview":"\n## How @Transactional Works\n\n### Transaction Management via AOP and the Proxy Pattern\n\nAOP (Aspect-Oriented Programming) is a programming p"},{"id":"post3","lang":"en","title":"Java ClassLoaders: How the JVM Dynamically Loads \u0026 Executes Your Code","section":"tech","date":"2025-05-27","tags":"Java","thumbnail":"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/iu4pe4d29jz23wt26kwz.png","description":"Deep dive into Java ClassLoaders and JVM's dynamic class loading mechanisms","searchKeywords":"Java ClassLoader, JVM, dynamic loading, class loading process","preview":"\nJava's \"Write Once, Run Anywhere\" principle is foundational to its sustained popularity. This portability is powered by the Java Virtual Ma"},{"id":"post2","lang":"en","title":"Understanding and Resolving the N+1 Query Problem in JPA","section":"tech","date":"2025-05-05","tags":"JPA, Hibernate, N+1 Problem","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fsrf6chohgt3athvqj7u1.png","description":"Learn what causes the N+1 query problem in JPA, how to identify it, and practical solutions using fetch joins, EntityGraph, and QueryDSL","searchKeywords":"JPA, N+1, Hibernate, performance, optimization, fetch join, EntityGraph, QueryDSL","preview":"\nThe **N+1 query problem** arises when one initial query (1) is followed by N additional queriesâ€”one for each result row from the first quer"},{"id":"post1","lang":"en","title":"Kafka Producer Stability Check: Ensuring Message Safety in Apache Kafka","section":"tech","date":"2025-05-04","tags":"Kafka, Producer, Reliability, Apache Kafka","thumbnail":"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ojt2w7s7rr9kws35r2yg.png","description":"Learn how to build fault-tolerant Kafka producers that survive rolling patches and broker failures","searchKeywords":"Kafka, producer, reliability, message safety, rolling patch, broker failure","preview":"\nDuring a recent incident, our team observed message loss from a Kafka producer during an Amazon MSK rolling patch. What began as a routine "}]},"__N_SSG":true},"page":"/[lang]/[id]","query":{"lang":"ko","id":"post2"},"buildId":"mel4nyyxs2AfGGjvQay4E","assetPrefix":"/log","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>