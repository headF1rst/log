{"pageProps":{"postData":{"id":"post9","lang":"ko","title":"ë‹¤ì¤‘ ìš”ì²­ ì²˜ë¦¬ë¥¼ ìœ„í•œ ThreadPool ì ìš©í•˜ê¸°","thumbnail":"https://i.imgur.com/mHibXLP.jpg","section":"tech","tags":"Spring, ThreadPool","date":"2022-09-20 10:00","preview":"\ní”„ë ˆì„ì›Œí¬ëŠ” ê°œë°œìê°€ ì‰½ê³  í¸í•˜ê²Œ ê°œë°œì„ í•  ìˆ˜ ìˆë„ë¡ ë§ì€ ê¸°ìˆ ì„ ì¶”ìƒí™”í•´ì„œ ì œê³µí•œë‹¤.\n\nìŠ¤í”„ë§ ë˜í•œ ë§ì€ ë¶€ë¶„ì´ ì¶”ìƒí™” ë˜ì—ˆìœ¼ë©° ê°œë°œì ìŠ¤ìŠ¤ë¡œê°€ ì˜ë¬¸ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤ë©´, ëª¨ë¥¸ì±„ ë„˜ì–´ê°ˆ ê¸°ìˆ ë“¤ì´ ì—¬ëŸ¿ ì¡´ì¬í•œë‹¤.\n\nì˜¤ëŠ˜ì€ ê·¸ëŸ¬í•œ ê¸°ìˆ ë“¤ ì¤‘, ê°œë°œìë“¤ì„"},"detail":"\ní”„ë ˆì„ì›Œí¬ëŠ” ê°œë°œìê°€ ì‰½ê³  í¸í•˜ê²Œ ê°œë°œì„ í•  ìˆ˜ ìˆë„ë¡ ë§ì€ ê¸°ìˆ ì„ ì¶”ìƒí™”í•´ì„œ ì œê³µí•œë‹¤.\n\nìŠ¤í”„ë§ ë˜í•œ ë§ì€ ë¶€ë¶„ì´ ì¶”ìƒí™” ë˜ì—ˆìœ¼ë©° ê°œë°œì ìŠ¤ìŠ¤ë¡œê°€ ì˜ë¬¸ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤ë©´, ëª¨ë¥¸ì±„ ë„˜ì–´ê°ˆ ê¸°ìˆ ë“¤ì´ ì—¬ëŸ¿ ì¡´ì¬í•œë‹¤.\n\nì˜¤ëŠ˜ì€ ê·¸ëŸ¬í•œ ê¸°ìˆ ë“¤ ì¤‘, ê°œë°œìë“¤ì„ ëŒ€ì‹ í•´ì„œ ì‚¬ìš©ìì˜ ë‹¤ì¤‘ ìš”ì²­ì„ ì²˜ë¦¬í•´ì£¼ëŠ” WASì˜ `ThreadPool`ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ë„ë¡ í•˜ê² ë‹¤.\n\n# WASì˜ Thread ìƒì„± ê³¼ì •\n\nìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” 2.5.4 ë²„ì „ ì´í›„ë¡œ Tomcat (WAS)ì„ ë‚´ì¥í•˜ê³  ìˆë‹¤.\n\nWASëŠ” ì‚¬ìš©ìì˜ ìš”ì²­ë§ˆë‹¤ Threadë¥¼ í• ë‹¹í•´ ì£¼ëŠ”ë°, ì½”ë“œë¥¼ í†µí•´ WASì˜ Thread ìƒì„± ê³¼ì •ì„ ì‚´í´ë³´ë„ë¡ í•˜ì.\n\n```java\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class WebApplicationServer {\n    private static final int DEFAULT_PORT = 8080;\n\n    public static void main(String[] args) throws Exception {\n        int port = 0;\n\n        if (args == null || args.length == 0) {\n            port = DEFAULT_PORT;\n        } else {\n            port = Integer.parseInt(args[0]);\n        }\n\n        // ì„œë²„ì†Œì¼“ì„ ìƒì„±í•œë‹¤. ì›¹ ì„œë²„ëŠ” 8080 í¬íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.\n        try (ServerSocket listenSocket = new ServerSocket(port)) {\n\n            Socket connection;\n            while ((connection = listenSocket.accept()) != null) {\n                Thread thread = new Thread(new RequestHandler(connection));\n                thread.start();\n            }\n        }\n    }\n}\n```\nìœ„ ì½”ë“œëŠ” ë‹¤ìŒ ê³¼ì •ì„ ìˆœì„œëŒ€ë¡œ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.\n\n- ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•œë‹¤. \n- `try (ServerSocket listenSocket = new ServerSocket(port)) {`\n   - 8080 í¬íŠ¸ë¥¼ ë””í´íŠ¸ë¡œ ì‚¬ìš©í•˜ëŠ” `ServerSocket` ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. \n   - `ServerSocket` ê°ì²´ëŠ” ì£¼ì–´ì§„ í¬íŠ¸ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì²­ì·¨í•œë‹¤.\n- `while ((connection = listenSocket.accept()) != null) {`\n   - `listenSocket.accept()`ëŠ” ì—°ê²° ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œê¹Œì§€ ë¸”ë¡œí‚¹ëœë‹¤.\n   - ì—°ê²° ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´, ì—°ê²°ì„ ìˆ˜ë½í•˜ê³  `Socket` ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.\n   - ì—°ê²° ìš”ì²­ì´ ëŠê¸¸ë•Œ ê¹Œì§€ ë£¨í”„ë¥¼ ëŒë©° ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.\n- í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´, ìš”ì²­(task)ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ì—¬ í• ë‹¹í•œë‹¤.\n- í• ë‹¹ëœ ìŠ¤ë ˆë“œê°€ `RequestHandler` ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.\n   - [thread.start()](https://kim-jong-hyun.tistory.com/101) ì— ì˜í•´ì„œ Threadê°€ taskë¥¼ ìˆ˜í–‰í•œë‹¤\n   - `RequestHandler` ì— ì˜¤ë°”ë¼ì´ë“œëœ `run()` ë©”ì„œë“œë¥¼ ìˆ˜í–‰í•œë‹¤.\n    \n\ní•˜ì§€ë§Œ ì´ì²˜ëŸ¼ ì‚¬ìš©ì ìš”ì²­ì´ ìˆì„ ë•Œ ë§ˆë‹¤ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•´ì„œ ì‚¬ìš©ì ìš”ì²­ì„ ì²˜ë¦¬í•˜ê²Œ ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.\n\n- ëª¨ë“  ìš”ì²­ë§ˆë‹¤ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ìŠ¤ë ˆë“œ ìƒì„± ë¹„ìš© ë°œìƒ â†’ ì„±ëŠ¥ ì €í•˜.\n- ë™ì‹œ ì ‘ì†ìê°€ ë§ì•„ì§ˆ ê²½ìš°, Context Switching ë¹„ìš© ì¦ê°€, WASì˜ ë©”ëª¨ë¦¬ ìì›ì´ ë¶€ì¡±í•˜ì—¬ ì„œë²„ê°€ ë‹¤ìš´ë  ê°€ëŠ¥ì„±ì´ ì¡´ì¬.\n\nì´ì²˜ëŸ¼ ì—¬ëŸ¬ ìœ ì €ì˜ ìš”ì²­ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ë™ì‹œ ì ‘ì†ìê°€ ë§ë”ë¼ë„ ì•ˆì •ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ì„œ WASëŠ” **Thread Pool**ì„ ì œê³µí•œë‹¤.\n\n# Thread Pool ì´ë€?\n\n[Thread Pool](https://www.baeldung.com/thread-pool-java-and-guava)ì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì— í•„ìš”í•œ [Thread](https://en.wikipedia.org/wiki/Thread_(computing))ë“¤ì„ ë¯¸ë¦¬ ìƒì„±í•œ ë‹¤ìŒ, Poolì— ìˆëŠ” Threadë¥¼ ëŒë ¤ê°€ë©° ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.\n(Taskë¥¼ ì²˜ë¦¬í•œ ThreadëŠ” ë‹¤ì‹œ Thread Poolì— ë°˜ë‚©ë˜ì–´ ì¬ì‚¬ìš© ëœë‹¤.)\n\në¯¸ë¦¬ ë§Œë“¤ì–´ ë‘ëŠ” ë°©ì‹ê³¼ Threadê°€ taskë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ì„œ ì—¬ëŸ¬ Pool êµ¬í˜„ì²´ë“¤ì´ ì¡´ì¬í•œë‹¤.\nëŒ€í‘œì ì¸ Thread Poolì—ëŠ” `newFixedThreadPool`ì´ ìˆë‹¤.\n\n## Thread Poolì˜ Thread í• ë‹¹ ê³¼ì •\n\n![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-09-08 á„‹á…©á„’á…® 3.21.21.png](https://i.imgur.com/kZs00M1.png)\n\nThread Poolì˜ Thread í• ë‹¹ ê³¼ì •ì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- ì„¤ì •ëœ `core size` ë§Œí¼ Thread Poolì— Threadë¥¼ ìƒì„±í•œë‹¤.\n- ì‚¬ìš©ìë¡œ ë¶€í„° Task(ìš”ì²­)ê°€ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ íì— Taskë¥¼ ì €ì¥í•œë‹¤.\n- Thread Poolì— idle ìƒíƒœì˜ Threadê°€ ìˆë‹¤ë©´ íì—ì„œ Taskë¥¼ êº¼ë‚´ í•´ë‹¹ Theadì— í• ë‹¹í•œë‹¤.\n    - idle ìƒíƒœì˜ Threadê°€ Poolì— ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ TaskëŠ” íì— ëŒ€ê¸°í•œë‹¤.\n    - â—ï¸ ëŒ€ê¸°ì¤‘ì¸ Taskë¡œ ì¸í•´ **íê°€ ê½‰ ì°¨ë©´, Threadë¥¼ ìƒˆë¡œ ìƒì„±í•œë‹¤**. (ì„¤ì •ëœ `Maximum Thread Size` ê¹Œì§€)\n    - Maximum Thread Size ê¹Œì§€ Threadì˜ ìˆ˜ê°€ ë„ë‹¬í•˜ê³  íë„ ê½‰ ì°¨ê²Œ ë˜ë©´ ì¶”ê°€ Taskì— ëŒ€í•´ì„  `Connection-refused` ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•œë‹¤.\n- Taskë¥¼ ì²˜ë¦¬í•œ ThreadëŠ” ë‹¤ì‹œ idle ìƒíƒœë¡œ Thread Poolì— ë°˜ë‚©ëœë‹¤.\n    - íê°€ ë¹„ì–´ìˆê³  `core size` ì´ìƒì˜ Threadê°€ ìƒì„±ë˜ì–´ìˆë‹¤ë©´ **Threadë¥¼ ì‚­ì œí•œë‹¤.**\n\n## Thread Poolì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì¤‘ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” WAS\n\nì´ì œ ìë°”ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” [ThreadPoolExecutor](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html) ë¥¼ í™œìš©í•´ ì•„ë˜ì˜ ì„¤ì •ê°’ì„ ë°”íƒ•ìœ¼ë¡œí•˜ëŠ” Thread Pool ê¸°ëŠ¥ì„ ì¶”ê°€í•´ë³´ì.\n\n- ìµœëŒ€ Thread Poolì˜ í¬ê¸° = `250` (Pool Size)\n- ëª¨ë“  Threadê°€ ì‚¬ìš©ì¤‘ì¸ (Busy) ìƒíƒœì´ë©´ `100` ëª…ê¹Œì§€ ëŒ€ê¸° ìƒíƒœ ìœ ì§€ (Queue Size)\n\n```java\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.concurrent.LinkedBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class WebApplicationServer {\n\n    private static final Logger logger = LoggerFactory.getLogger(WebApplicationServer.class);\n\n    private static final int DEFAULT_PORT = 8080;\n    private static final int PORT_ARGS_INDEX = 0;\n    private static final int THREAD_POOL_SIZE_ARGS_INDEX = 1;\n    private static final int THREAD_QUEUE_SIZE_ARGS_INDEX = 2;\n    private static final int DEFAULT_THREAD_POOL_SIZE = 250;\n    private static final int DEFAULT_THREAD_QUEUE_SIZE = 100;\n\n    public static void main(String args[]) throws Exception {\n\n        int port = port(args);\n        ThreadPoolExecutor threadPoolExecutor = threadPoolExecutor(poolSize(args), queueSize(args));\n\n        // ì„œë²„ì†Œì¼“ì„ ìƒì„±í•œë‹¤. ì›¹ì„œë²„ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 8080ë²ˆ í¬íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.\n        try (ServerSocket listenSocket = new ServerSocket(port)) {\n            logger.info(\"Web Application Server started {} port.\", port);\n\n            // í´ë¼ì´ì–¸íŠ¸ê°€ ì—°ê²°ë ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤.\n            Socket connection;\n            while ((connection = listenSocket.accept()) != null) {\n                threadPoolExecutor.execute(new RequestHandler(connection));\n            }\n        }\n    }\n    ...\n\n    private static int port(String[] args) {\n        return extractValueByIndexOrDefault(args, PORT_ARGS_INDEX, DEFAULT_PORT);\n    }\n\n    private static int extractValueByIndexOrDefault(String[] args, int index, int defaultValue) {\n        if (args == null || args.length < index + 1) {\n            return defaultValue;\n        }\n        return Integer.parseInt(args[index]);\n    }\n}\n```\n\nì½”ë“œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, Thread Pool ì ìš©ì˜ í•µì‹¬ ë¡œì§ì€ `threadPoolExecutor` ë©”ì„œë“œì— ì¡´ì¬í•œë‹¤.\n\n`threadPoolExecutor` ë©”ì„œë“œë¥¼ ì‚´í´ë³´ê¸°ì— ì•ì„œ, ì¸ìë¡œ ì „ë‹¬ë˜ëŠ” ê°’ì„ êµ¬í•˜ëŠ” ë‘ê°œì˜ ë©”ì„œë“œë¥¼ ì‚´í´ë³´ë„ë¡ í•˜ì.\n\n`threadPoolExecutor` ë©”ì„œë“œëŠ” ë‘ê°œì˜ ì¸ìê°’ì„ ì „ë‹¬ë°›ëŠ”ë‹¤.\n\n- Thread Poolì˜ `core size`\n- Taskë¥¼ ì €ì¥í•  `queue size`\n\nì´ë“¤ì€ ê°ê° `poolSize(args)`, `queueSize(args)` ë©”ì„œë“œì— ì˜í•´ì„œ ê°’ì´ êµ¬í•´ì§„ë‹¤.\n\n```java\npublic class WebApplicationServer {\n    ...\n    \n    private static int poolSize(String[] args) {\n        return extractValueByIndexOrDefault(args, THREAD_POOL_SIZE_ARGS_INDEX, DEFAULT_THREAD_POOL_SIZE);\n    }\n\n    private static int queueSize(String[] args) {\n        return extractValueByIndexOrDefault(args, THREAD_QUEUE_SIZE_ARGS_INDEX, DEFAULT_THREAD_QUEUE_SIZE);\n    }\n```\n\n`port(args)`, `poolSize(args)` , `queueSize(args)` ëª¨ë‘ `extractValueByIndexOrDefault()` ë©”ì„œë“œì— ì˜í•´ì„œ ê°’ì´ íŒŒì‹±ëœë‹¤.\n\n`extractValueByIndexOrDefault()` ë©”ì„œë“œëŠ” ì‚¬ìš©ìì˜ ìš”ì²­ì‹œ ì „ë‹¬ë˜ëŠ” `args[]` ì— í•„ìš”í•œ ì˜µì…˜ì˜ ê°’ì´ ì „ë‹¬ë˜ì§€ ì•Šì€ ê²½ìš°ì— ê¸°ë³¸ê°’ì„ ë°˜í™˜í•˜ê³  ì˜µì…˜ ê°’ì´ ì „ë‹¬ëœ ê²½ìš°ì—ëŠ” ì „ë‹¬ëœ ê°’ì„ ë°˜í™˜í•œë‹¤.\n\n### ThreadPoolExecutor\n\n`poolSize` ì™€ `queueSize` ë©”ì„œë“œë¡œ ë¶€í„°\n\nì „ë‹¬ë°›ì€ ë‘ ì¸ìë¥¼ ì‚¬ìš©í•˜ì—¬ `ThreadPoolExecutor` ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ Thread Poolì„ ì ìš©í•œë‹¤.\n\n```java\npublic class WebApplicationServer {\n    ...\n    \n    private static ThreadPoolExecutor threadPoolExecutor(int corePoolSize, int queueSize) {\n        return new ThreadPoolExecutor(corePoolSize, corePoolSize, 0L, TimeUnit.MILLISECONDS,\n                new LinkedBlockingQueue<>(queueSize));\n    }\n```\n\n> ThreadPoolExecutor(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue)\n\n- corePoolSize\n    - ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ì‹œ Poolì— í• ë‹¹ë˜ëŠ” ì“°ë ˆë“œ ìˆ˜\n- maximumPoolSize\n    - Poolì— ìœ ì§€ë  ìˆ˜ ìˆëŠ” **ìµœëŒ€** ì“°ë ˆë“œ ìˆ˜\n- keepAliveTime\n    - corePoolSize ë³´ë‹¤ ì“°ë ˆë“œ ê°œìˆ˜ê°€ ë§ì•„ ì§„ ìƒíƒœì—ì„œ, ìƒˆë¡œìš´ í…ŒìŠ¤í¬ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì‹œê°„.\n    - keepAliveTime ì´ìƒ ì‹œê°„ì´ ê²½ê³¼í•˜ë©´ ì“°ë ˆë“œë¥¼ ì—†ì• ì„œ corePoolSizeë§Œí¼ ì“°ë ˆë“œ ìˆ˜ë¥¼ ìœ ì§€í•œë‹¤.\n- unit\n    - keepAliveTimeì˜ ì‹œê°„ ë‹¨ìœ„\n- workQueue\n    - ì‹¤í–‰ ë˜ê¸°ì „ì— í™€ë“œì‹œì¼œ ë‘ëŠ” í…ŒìŠ¤í¬ë¥¼ ìœ ì§€í•˜ëŠ” í.\n    - idle ìƒíƒœì˜ ì“°ë ˆë“œê°€ ì—†ëŠ” ê²½ìš°, í…ŒìŠ¤í¬ë¥¼ workQueueì— ì €ì¥í•œë‹¤.\n\n- corePoolSize = 1, maximumPoolSize = 1 ì´ë©´ `newSingleThreadExecutor` ê°€ ëœë‹¤.\n- corePoolSize = 0, maximumPoolSize = MAX_VALUE ì´ë©´ `newCachedThreadPool`\n\ní˜„ì¬ ìš°ë¦¬ëŠ” ìµœì†Œ, ìµœëŒ€ê°€ 250ì¸ ê³ ì •ëœ Thread Poolì„ ìƒì„±í•œ ê²ƒì´ë‹¤.\n\n`threadPoolExecutor.execute(new RequestHandler(connection))`\n\nThread Poolì„ ë§Œë“¤ê³  ë‚˜ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¤ê¸°ê¹Œì§€ ëŒ€ê¸°í•˜ë‹¤ê°€ ìš”ì²­ì´ ë“¤ì–´ì˜¤ëŠ” ìˆœê°„ Thread Poolì˜ idleí•œ Threadë¥¼ í•˜ë‚˜ í• ë‹¹í•˜ì—¬ ìš”ì²­ (Task)ë¥¼ ì²˜ë¦¬í•œë‹¤.\n\n- `execute(í…ŒìŠ¤í¬)`\n    - Thead Poolì—ì„œ í•˜ë‚˜ì˜ Threadë¥¼ í• ë‹¹.\n\n## Thread Pool ìˆ˜ë³´ë‹¤ ë§ì€ ìš”ì²­ì„ ë™ì‹œì— ë³´ë‚´ë³´ê¸°\n\nì•ì„œ ì ìš©í•œ Thread Poolê³¼ ë™ì¼í•œ [newFixedThreadPool](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html) ë¥¼ ì‚¬ìš©í•˜ì—¬ Thread Poolì´ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ ì•Œì•„ë³´ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì.\n\në¨¼ì € Thread Poolì˜ ì´ ìŠ¤ë˜ë“œ ê°œìˆ˜ë³´ë‹¤ ì ì€ ë™ì‹œ ìš”ì²­ì„ ë³´ëƒˆì„ë•Œ WASê°€ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.\n\n![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-09-23 á„‹á…©á„’á…® 6.24.57.png](https://i.imgur.com/06RShUw.png)\n\n- `executorService.execute()`\n    \n    Thread Poolì—ì„œ ìŠ¤ë ˆë“œë¥¼ í•˜ë‚˜ í• ë‹¹í•´ì„œ í…ŒìŠ¤í¬ë¥¼ ìˆ˜í–‰í•œë‹¤.\n    \n- `restTemplate.getForEntity()`\n    \n    ë™ê¸°ë°©ì‹ìœ¼ë¡œ, ì¸ìë¡œ ì£¼ì–´ì§„ url ì£¼ì†Œì— HTTP GET ìš”ì²­ì„ ë³´ë‚´ê³  ê²°ê³¼ëŠ” ResponseEntityë¥¼ ë°›ëŠ”ë‹¤.\n    \n\nThread Poolì—ì„œ ìŠ¤ë ˆë“œë¥¼ í•˜ë‚˜ì”© í• ë‹¹í•´ ì£¼ì–´ index.htmlì„ ë¶ˆëŸ¬ì˜¤ëŠ” get ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ë„ë¡ í•˜ì˜€ë‹¤.\n\nê·¸ë¦¬ê³  í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ì„ ë§ˆì¹˜ë©´ latchì˜ ìˆ«ìê°€ í•˜ë‚˜ì”© ê°ì†Œí•œë‹¤.\n\n200ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” Thread Poolì´ 100ê°œì˜ ìš”ì²­ì„ ë‹¤ ì²˜ë¦¬í•˜ì˜€ë‹¤ë©´ latchì˜ ìˆ«ìëŠ” 0ì´ì–´ì•¼í•˜ë©° ì •ìƒì ìœ¼ë¡œ ëª¨ë“  ìš”ì²­ì„ ì²˜ë¦¬í•˜ì˜€ê¸° ë•Œë¬¸ì— awaitì˜ ê°’ë„ true ì—¬ì•¼ë§Œ í•œë‹¤.\n\nThread Pool ë‚´ë¶€ì˜ ìŠ¤ë ˆë“œê°€ ìš”ì²­ í…ŒìŠ¤í¬ ë³´ë‹¤ ë§ê¸° ë•Œë¬¸ì— WASê°€ ì •ìƒ ë™ì‘í•  ê²ƒì´ë¼ê³  ìƒê°í•˜ì˜€ê³ \n\ní…ŒìŠ¤íŠ¸ ì‹¤í–‰ê²°ê³¼, WASê°€ 3ì´ˆë§Œì— ìš”ì²­ë“¤ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\n\n![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-09-23 á„‹á…©á„’á…® 6.23.28.png](https://i.imgur.com/XdtUK2j.png)\n\nì´ë²ˆì—ëŠ” Thread Poolì— 200ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê³  ì´ë³´ë‹¤ ë§ì€ 400ê°œì˜ ë™ì‹œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ í…ŒìŠ¤íŠ¸ í•´ë³´ì•˜ë‹¤.\n\n![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-09-23 á„‹á…©á„’á…® 7.35.43.png](https://i.imgur.com/is78b8W.png)\n\n200ê°œì˜ ê³ ì •ëœ í¬ê¸°ì˜ ìŠ¤ë ˆë“œí’€ì„ ë§Œë“¤ê³  400ê°œì˜ í…ŒìŠ¤í¬ë¥¼ ë„£ì–´ì£¼ì—ˆê¸° ë•Œë¬¸ì— 200ê°œì˜ ì›Œì»¤(ìŠ¤ë ˆë“œ)ëŠ” 200ê°œì˜ í…ŒìŠ¤í¬ë¥¼ ë¨¼ì € ì²˜ë¦¬í•˜ê³ , ë‚˜ë¨¸ì§€ 200ê°œëŠ” Queueì—ì„œ í• ë‹¹ë˜ê¸°ë§Œì„ ê¸°ë‹¤ë¦¬ê³  ìˆì„ ê²ƒì´ë‹¤.\n\nì´í›„, ë¨¼ì € ëë‚œ ì›Œì»¤ê°€ ë‚˜ë¨¸ì§€ ìŠ¤ë ˆë“œë“¤ì„ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.\n\n(ë” ìì„¸í•œ ê³¼ì •ì´ ê¶ê¸ˆí•˜ë‹¤ë©´ ë‹¤ìŒ [ë§í¬](https://hamait.tistory.com/937?category=79137)ë¥¼ ì°¸ê³ í•˜ê¸°ë¥¼ ë°”ë€ë‹¤.)\n\n![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-09-23 á„‹á…©á„’á…® 7.35.24.png](https://i.imgur.com/0PMF4bv.png)\n\nê·¸ë ‡ë‹¤ë©´ ë” ë§ì€ 700ê°œì˜ í…ŒìŠ¤í¬ë¥¼ 200ê°œì˜ ê³ ì • í¬ê¸° ìŠ¤ë ˆë“œí’€ì´ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ê¹Œ?\n\ní˜„ì¬ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ìŠ¤ë ˆë“œ í’€ì€ ê³ ì • ìŠ¤ë ˆë“œ í’€ì´ê¸° ë•Œë¬¸ì— ì´ˆê¸° ìŠ¤ë ˆë“œ ê°œìˆ˜ì—ì„œ ìŠ¤ë ˆë“œê°€ ì¶”ê°€ë¡œ ìƒì„±ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. \n\në•Œë¬¸ì— newFixedThreadPoolì˜ workQueue ì‚¬ì´ì¦ˆ ë§Œí¼ì˜ í…ŒìŠ¤í¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ê²ƒì´ë‹¤.\n\njava/util/concurrent/Executors.java íŒŒì¼ì˜ Executors í´ë˜ìŠ¤ëŠ” ì •ì  ë©”ì„œë“œë¡œ newFixedPoolì„ ì œê³µí•œë‹¤.\n\n![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-09-23 á„‹á…©á„’á…® 8.14.32.png](https://i.imgur.com/WfjqPOD.png)\n\nê³ ì • ìŠ¤ë ˆë“œ í’€ì´ê¸° ë•Œë¬¸ì— corePoolSizeì™€ maximumPoolSizeì˜ ê°’ì´ ê°™ê³  corePoolSizeë³´ë‹¤ ìŠ¤ë ˆë“œ ê°œìˆ˜ê°€ ë§ì•„ì§ˆ ì¼ì´ ì—†ê¸° ë•Œë¬¸ì— keepAliveTimeì€ 0ì´ë‹¤.\n\nëˆˆì—¬ê²¨ë´ì•¼í•  ë¶€ë¶„ì€ ë°”ë¡œ workQueueì¸ë°, [LinkedBlockingQueue](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/LinkedBlockingQueue.html) ë¥¼ ì‚¬ìš©í•œë‹¤.\n\nLinkedBlockingQueueëŠ” ìƒì„±ìì˜ ì¸ìë¡œ queueì˜ ì‚¬ì´ì¦ˆë¥¼ ì§€ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ ìµœëŒ€ í ì‚¬ì´ì¦ˆë¥¼ **Integer.MAX_VALUE (2*31 - 1)**ë¡œ ì„¤ì •í•˜ê³  ê°’ì´ ì‚½ì…ë  ë•Œ ë§ˆë‹¤ ë™ì ìœ¼ë¡œ nodeë¥¼ ìƒì„±í•˜ì—¬ ê°’ì„ ì €ì¥í•œë‹¤.\n\në•ë¶„ì— ìš°ë¦¬ëŠ” Thread Poolì— ì¡´ì¬í•˜ëŠ” ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë³´ë‹¤ ë” ë§ì€ ë™ì‹œìš”ì²­ì´ ë“¤ì–´ì˜¤ë”ë¼ë„ ì •ìˆ˜í˜•ì˜ ìµœëŒ€ ê°’ ë§Œí¼ì˜ í…ŒìŠ¤í¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n\ní…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼, 700ê°œì˜ í…ŒìŠ¤í¬ë¥¼ 200ê°œì˜ ìŠ¤ë ˆë“œê°€ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-09-23 á„‹á…©á„’á…® 7.34.31.png](https://i.imgur.com/582ZHWQ.png)\n\ní•˜ì§€ë§Œ ìŠ¤í”„ë§ë¶€íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ Thread Poolì„ ì§ì ‘ ì ìš©í•œì ë„, ì‹ ê²½ì¨ë³¸ì ë„ ì—†ì—ˆì„ ìˆ˜ ìˆë‹¤.\n\nì‹¤ì œë¡œ ìŠ¤í”„ë§ë¶€íŠ¸ëŠ” Thread Poolì„ ì§ì ‘ êµ¬í˜„í•  í•„ìš” ì—†ì´ ì„¤ì • íŒŒì¼ì„ í†µí•´ì„œ Thread Pool ê´€ë ¨ ì„¤ì •ì„ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\n\n## ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ Embedded Tomcat\n\nìŠ¤í”„ë§ê³¼ ìŠ¤í”„ë§ë¶€íŠ¸ì˜ ì°¨ì´ì  ì¤‘ í•˜ë‚˜ëŠ” ë°”ë¡œ ë‚´ì¥ WAS (Tomcat)ì§€ì› ì—¬ë¶€ì´ë‹¤.\n\nì§€ê¸ˆê¹Œì§€ Thread Poolì„ ì ìš©í•˜ê¸° ìœ„í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì´ë¥¼ ì•Œì•„ë³´ì•˜ì§€ë§Œ, ê°ì‚¬í•˜ê²Œë„ ìŠ¤í”„ë§ë¶€íŠ¸ëŠ” Tomcatì„ ë‚´ì¥í•˜ê³  ìˆë‹¤.\n\n ë‚´ì¥ Tomcat ë•ë¶„ì— ìœ„ì™€ ê°™ì´ Thread Poolì„ êµ¬í˜„í•  í•„ìš” ì—†ì´ `application.yml` í˜¹ì€ [application.properties](http://application.properties) ì—ì„œ Tomcatì˜ Connectorì„¤ì •ì„ ë³€ê²½ í•  ìˆ˜ ìˆë‹¤.\n\n```yml\n# application.yml (ì ì–´ë†“ì€ ê°’ì€ default)\nserver:\n  tomcat:\n    threads:\n      max: 200 # ìƒì„±í•  ìˆ˜ ìˆëŠ” threadì˜ ì´ ê°œìˆ˜\n      min-spare: 10 # í•­ìƒ í™œì„±í™” ë˜ì–´ìˆëŠ”(idle) threadì˜ ê°œìˆ˜\n    max-connections: 8192 # ìˆ˜ë¦½ê°€ëŠ¥í•œ connectionì˜ ì´ ê°œìˆ˜\n    accept-count: 100 # ì‘ì—…íì˜ ì‚¬ì´ì¦ˆ (ìš´ì˜ì²´ì œì—ì„œ ê´€ë¦¬)\n    connection-timeout: 20000 # timeout íŒë‹¨ ê¸°ì¤€ ì‹œê°„, 20ì´ˆ\n  port: 8080 # ì„œë²„ë¥¼ ë„ìš¸ í¬íŠ¸ë²ˆí˜¸\n```\n\n## ë§ˆì¹˜ë©°\n\nì§€ê¸ˆê¹Œì§€ Thead Poolì„ WASì— ì ìš©í•´ ë³´ë©´ì„œ WASê°€ ë‹¤ì¤‘ ìš”ì²­ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ëŠ”ì§€ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.\n\nì‚¬ì‹¤ ë‹¤ì¤‘ ìš”ì²­ ì²˜ë¦¬ì—ëŠ” Thread Pool ë¿ë§Œ ì•„ë‹ˆë¼ WASì˜ Connectorë„ ë°€ì ‘í•˜ê²Œ ì—°ê´€ë˜ì–´ ìˆë‹¤.\n\ní˜„ì¬ êµ¬í˜„ëœ WASëŠ” Socket Connectionì„ ì²˜ë¦¬í•  ë•Œ ìë°”ì˜ ê¸°ë³¸ì ì¸ I/Oë¥¼ ì‚¬ìš©í•œë‹¤.\n\nThead Poolì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ìŠ¤ë ˆë“œëŠ” ì†Œì¼“ ì—°ê²°ì„ ë°›ì•„ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ìš”ì²­ì— ëŒ€í•´ ì‘ë‹µí•œ ë‹¤ìŒ, ì†Œì¼“ ì—°ê²°ì´ ì¢…ë£Œë˜ë©´ Thead Poolì— ë°˜ë‚©ëœë‹¤.\n\nì¦‰, connectionì´ ë‹«í ë•Œê¹Œì§€ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œëŠ” íŠ¹ì • connectionì— ê³„ì† í• ë‹¹ë˜ì–´ ìˆê²Œ ëœë‹¤.\n\nì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ìŠ¤ë ˆë“œë¥¼ í• ë‹¹í•˜ì—¬ ì‚¬ìš©í•˜ë©´, ë™ì‹œì— ì‚¬ìš©ë˜ëŠ” ìŠ¤ë ˆë“œ ìˆ˜ê°€ ë™ì‹œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ìˆ˜ê°€ ë˜ì–´ ë²„ë¦¬ëŠ”ë° ìŠ¤ë ˆë“œë“¤ì´ ì¶©ë¶„íˆ ì‚¬ìš©ë˜ì§€ ì•Šê³  idle ìƒíƒœë¡œ ë‚­ë¹„ë˜ëŠ” ì‹œê°„ì´ ë§ì´ ë°œìƒí•˜ê²Œ ëœë‹¤.\n\nì´ëŸ¬í•œ ë¬¸ì œì ì„ í•´ê²°í•˜ê³  ë¦¬ì†ŒìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ `NIO Connector` ê°€ ë“±ì¥í•˜ì˜€ëŠ”ë° ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ì§€ê¸ˆê¹Œì§€ êµ¬í˜„í•œ BIO ë°©ì‹ê³¼ NIO ë°©ì‹ì˜ ì°¨ì´ì ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ë„ë¡ í•˜ê² ë‹¤.\n\n---\n\n### ì°¸ê³ ìë£Œ ğŸ“š\n\n- [Task queuing in Executors.newFixedThreadPool()](https://medium.com/@amardeepbhowmick92/task-queuing-in-executors-newfixedthreadpool-31bc8c24b4d2)\n- [Introduction to Thread Pools in Java](https://www.baeldung.com/thread-pool-java-and-guava)\n- [JAVA ì“°ë ˆë“œí’€ ë¶„ì„ - newFixedThreadPool ëŠ” ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ê°€?](https://hamait.tistory.com/937)\n- [ìŠ¤í”„ë§ë¶€íŠ¸ëŠ” ì–´ë–»ê²Œ ë‹¤ì¤‘ ìœ ì € ìš”ì²­ì„ ì²˜ë¦¬í• ê¹Œ? (Tomcat9.0 Thread Pool)](https://velog.io/@sihyung92/how-does-springboot-handle-multiple-requests)\n- [ë³‘í–‰ì„±(Concurrency)ì„ ìœ„í•œ CountDownLatch](https://imasoftwareengineer.tistory.com/100)\n","lang":"ko","allPostsInOtherLang":[{"id":"post9","lang":"en","title":"Solving the Billion-Dollar Mistake: Modern Java Null Safety with JSpecify and NullAway","date":"2025-09-24","section":"tech","tags":"Null Safety","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Ftotx4mdagz9nsegld5mr.png","description":"Learn how to eliminate NullPointerExceptions using JSpecify annotations and NullAway static analysis in modern Java applications","searchKeywords":"JSpecify, NullAway, Java null safety, NullPointerException prevention, static analysis","preview":"\nWhether you're a developer just starting with Java or a senior engineer with two decades of experience, the most frequently encountered err"},{"id":"post8","lang":"en","title":"PostgreSQL MVCC Internals: From xmin/xmax to Isolation Levels","date":"2025-07-06","section":"tech","tags":"PostgreSQL","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F7rk467sodudw3ww7iisi.png","description":"Deep dive into PostgreSQL's MVCC implementation, understanding xmin/xmax and how different isolation levels work internally","searchKeywords":"PostgreSQL, MVCC, xmin, xmax, transaction, isolation level, concurrency control","preview":"\nWhen multiple users access a database concurrently, how can we guarantee Isolation, one of the core `ACID` properties? While we could apply"},{"id":"post7","lang":"en","title":"Prompt Engineering Tips from Anthropic Engineers","date":"2025-06-24","section":"tech","tags":"Prompt Engineering, AI, Anthropic, LLM","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fdzzrfth8zqdnrhbj9538.png","description":"Valuable prompt engineering tips and insights from Anthropic engineers","searchKeywords":"prompt engineering, AI tips, Anthropic, LLM best practices","preview":"\nHere are a few impressive points from [youtube (AI prompt engineering: A deep dive)](https://www.youtube.com/watch?v=T9aRN5JkmL8&t=2463s) w"},{"id":"post6","lang":"en","title":"From Theory to Practice: A JMH Showdown Between Sequential and Parallel Streams","date":"2025-06-15","section":"tech","tags":"Java, JMH","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F7ytq239pcfe279t9avzg.png","description":"Practical performance comparison between sequential and parallel streams using JMH benchmarking","searchKeywords":"JMH benchmark, Java performance, sequential vs parallel, stream optimization","preview":"\nIn our [previous post](https://dev.to/headf1rst/discover-how-forkjoinpool-powers-javas-high-performance-parallel-processing-3pn7), we delve"},{"id":"post5","lang":"en","title":"Discover how ForkJoinPool powers Java's high-performance parallel processing","date":"2025-06-03","section":"tech","tags":"ForkJoinPool","thumbnail":"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qgawc6pj2vbyzuem20wn.png","description":"Understanding ForkJoinPool and how it powers Java's parallel stream processing","searchKeywords":"ForkJoinPool, Java parallel processing, work-stealing, parallelStream","preview":"\nRecently, I optimized our transport operation plan Excel upload feature, boosting performance for logistics system administrators. This too"},{"id":"post4","lang":"en","title":"Why @Transactional Sometimes Fails: A Deep Dive into Spring AOP Proxies","section":"tech","date":"2025-06-01","tags":"AOP, Transactional","thumbnail":"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/a1wxef2amdixh3lr4any.png","description":"Understanding Spring AOP proxies and why @Transactional sometimes fails with internal method calls","searchKeywords":"Spring AOP, @Transactional, proxy pattern, self-invocation","preview":"\n## How @Transactional Works\n\n### Transaction Management via AOP and the Proxy Pattern\n\nAOP (Aspect-Oriented Programming) is a programming p"},{"id":"post3","lang":"en","title":"Java ClassLoaders: How the JVM Dynamically Loads & Executes Your Code","section":"tech","date":"2025-05-27","tags":"Java","thumbnail":"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/iu4pe4d29jz23wt26kwz.png","description":"Deep dive into Java ClassLoaders and JVM's dynamic class loading mechanisms","searchKeywords":"Java ClassLoader, JVM, dynamic loading, class loading process","preview":"\nJava's \"Write Once, Run Anywhere\" principle is foundational to its sustained popularity. This portability is powered by the Java Virtual Ma"},{"id":"post2","lang":"en","title":"Understanding and Resolving the N+1 Query Problem in JPA","section":"tech","date":"2025-05-05","tags":"JPA, Hibernate, N+1 Problem","thumbnail":"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fsrf6chohgt3athvqj7u1.png","description":"Learn what causes the N+1 query problem in JPA, how to identify it, and practical solutions using fetch joins, EntityGraph, and QueryDSL","searchKeywords":"JPA, N+1, Hibernate, performance, optimization, fetch join, EntityGraph, QueryDSL","preview":"\nThe **N+1 query problem** arises when one initial query (1) is followed by N additional queriesâ€”one for each result row from the first quer"},{"id":"post1","lang":"en","title":"Kafka Producer Stability Check: Ensuring Message Safety in Apache Kafka","section":"tech","date":"2025-05-04","tags":"Kafka, Producer, Reliability, Apache Kafka","thumbnail":"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ojt2w7s7rr9kws35r2yg.png","description":"Learn how to build fault-tolerant Kafka producers that survive rolling patches and broker failures","searchKeywords":"Kafka, producer, reliability, message safety, rolling patch, broker failure","preview":"\nDuring a recent incident, our team observed message loss from a Kafka producer during an Amazon MSK rolling patch. What began as a routine "}]},"__N_SSG":true}